<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>struts1学习(一) | Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言  之前一直用SprigMVC,但是由于公司目前项目牵涉到struts1（这应该算是20年前的框架了。现在已经很少用了）所以到网上简约学习了下。
目录struts1工作原理正文struts1工作原理 首先struts基于MVC模式, 用户发送的请求讲被 ActionServlet处理,转发,但是它是怎样实现的了?? 实现原理:
1 web.xml文件配置web.xml 配置:123456789">
<meta property="og:type" content="article">
<meta property="og:title" content="struts1学习(一)">
<meta property="og:url" content="https://github.com/startshineye/2016/10/19/struts1学习-一/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="前言  之前一直用SprigMVC,但是由于公司目前项目牵涉到struts1（这应该算是20年前的框架了。现在已经很少用了）所以到网上简约学习了下。
目录struts1工作原理正文struts1工作原理 首先struts基于MVC模式, 用户发送的请求讲被 ActionServlet处理,转发,但是它是怎样实现的了?? 实现原理:
1 web.xml文件配置web.xml 配置:123456789">
<meta property="og:updated_time" content="2016-10-19T15:37:22.085Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="struts1学习(一)">
<meta name="twitter:description" content="前言  之前一直用SprigMVC,但是由于公司目前项目牵涉到struts1（这应该算是20年前的框架了。现在已经很少用了）所以到网上简约学习了下。
目录struts1工作原理正文struts1工作原理 首先struts基于MVC模式, 用户发送的请求讲被 ActionServlet处理,转发,但是它是怎样实现的了?? 实现原理:
1 web.xml文件配置web.xml 配置:123456789">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="http://p1.bqimg.com/576993/9a0cd30edaefd7c1.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://p1.bqimg.com/576993/9a0cd30edaefd7c1.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-struts1学习-一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      struts1学习(一)
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>  之前一直用SprigMVC,但是由于公司目前项目牵涉到struts1（这应该算是20年前的框架了。现在已经很少用了）所以到网上简约学习了下。</p>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><h4 id="struts1工作原理"><a href="#struts1工作原理" class="headerlink" title="struts1工作原理"></a>struts1工作原理</h4><h3 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h3><h4 id="struts1工作原理-1"><a href="#struts1工作原理-1" class="headerlink" title="struts1工作原理"></a>struts1工作原理</h4><p> 首先struts基于MVC模式, 用户发送的请求讲被 ActionServlet处理,转发,但是它是怎样实现的了??<br> 实现原理:</p>
<h5 id="1-web-xml文件配置"><a href="#1-web-xml文件配置" class="headerlink" title="1 web.xml文件配置"></a>1 web.xml文件配置</h5><p>web.xml 配置:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;servlet\&gt;    </div><div class="line">   &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line">    &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;</div><div class="line">    &lt;init-param&gt;</div><div class="line">      &lt;param-name&gt;config&lt;/param-name&gt;</div><div class="line">      &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;</div><div class="line">    &lt;/init-param&gt;</div><div class="line"> &lt;/servlet&gt;</div><div class="line"> &lt;servlet-mapping&gt;</div><div class="line">    &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line">     &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</div><div class="line"> &lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure></p>
<p>上面描述*.do的url请求都会被ActionServlet接受.<br>完整配置讲解：</p>
<h6 id="1-web-xml"><a href="#1-web-xml" class="headerlink" title="1. web.xml"></a>1. web.xml</h6><p>web.xml文件对任何的Web项目都是一个必须的文件，使用Struts时，还需要对该文件进行一<br> 些必须的配置。</p>
<h6 id="1-1-ActionServlet的配置-一般需要在该文件中配置Struts的Servlet，示例配置如下："><a href="#1-1-ActionServlet的配置-一般需要在该文件中配置Struts的Servlet，示例配置如下：" class="headerlink" title="1.1 ActionServlet的配置 一般需要在该文件中配置Struts的Servlet，示例配置如下："></a>1.1 ActionServlet的配置 一般需要在该文件中配置Struts的Servlet，示例配置如下：</h6><p>Eg1. 简单的Struts的ActionServlet的配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;servlet&gt;</div><div class="line">    &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line">    &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;</div><div class="line">    &lt;init-param&gt;</div><div class="line">      &lt;param-name&gt;config&lt;/param-name&gt;</div><div class="line">      &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;</div><div class="line">    &lt;/init-param&gt;</div><div class="line">    &lt;init-param&gt;</div><div class="line">      &lt;param-name&gt;debug&lt;/param-name&gt;</div><div class="line">      &lt;param-value&gt;3&lt;/param-value&gt;</div><div class="line">    &lt;/init-param&gt;</div><div class="line">    &lt;init-param&gt;</div><div class="line">      &lt;param-name&gt;detail&lt;/param-name&gt;</div><div class="line">      &lt;param-value&gt;3&lt;/param-value&gt;</div><div class="line">    &lt;/init-param&gt;</div><div class="line">    &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;</div><div class="line"> &lt;/servlet&gt;</div><div class="line"> &lt;servlet-mapping&gt;</div><div class="line">    &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line">    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</div><div class="line"> &lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure>
<p> 对于复杂的应用，一般需要配置多个struts-config.xml文件，可以通过添加另外的<br> <init-param>来实现，或者在多个配置文件中以为“,”隔开，如下所示：<br> Eg2. 配置多个struts-config.xml配置文件的ActionServlet的配置：</init-param></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">&lt;servlet&gt;</div><div class="line">   &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line">   &lt;servlet-class&gt;</div><div class="line">     org.apache.struts.action.ActionServlet</div><div class="line">   &lt;/servlet-class&gt;</div><div class="line">   &lt;init-param&gt;</div><div class="line">     &lt;param-name&gt;config&lt;/param-name&gt;   </div><div class="line">     &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;</div><div class="line">   &lt;/init-param&gt;</div><div class="line">   &lt;init-param&gt;</div><div class="line">     &lt;param-name&gt;config/IVR&lt;/param-name&gt;    </div><div class="line">     &lt;param-value&gt;/WEB-INF/struts-config-IVR.xml&lt;/param-value&gt;</div><div class="line">   &lt;/init-param&gt;</div><div class="line">   &lt;init-param&gt;</div><div class="line">   &lt;param-name&gt;config/wap&lt;/param-name&gt;</div><div class="line">     &lt;param-value&gt;</div><div class="line">       /WEB-INF/struts-config-wap.xml</div><div class="line">     &lt;/param-value&gt;</div><div class="line">   &lt;/init-param&gt;</div><div class="line">   &lt;init-param&gt;</div><div class="line">     &lt;param-name&gt;debug&lt;/param-name&gt;</div><div class="line">     &lt;param-value&gt;3&lt;/param-value&gt;</div><div class="line">   &lt;/init-param&gt;</div><div class="line">   &lt;init-param&gt;</div><div class="line">     &lt;param-name&gt;detail&lt;/param-name&gt;</div><div class="line">     &lt;param-value&gt;3&lt;/param-value&gt;</div><div class="line">   &lt;/init-param&gt;</div><div class="line">   &lt;load-on-startup&gt;0&lt;/load-on-startup&gt;</div><div class="line">&lt;/servlet&gt;</div><div class="line">&lt;servlet-mapping&gt;</div><div class="line"> &lt;servlet-name&gt;action&lt;/servlet-name&gt;</div><div class="line"> &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;</div><div class="line">&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure>
<h6 id="1-2-欢迎和错误处理的配置"><a href="#1-2-欢迎和错误处理的配置" class="headerlink" title="1.2 欢迎和错误处理的配置"></a>1.2 欢迎和错误处理的配置</h6><p>首先讲述一下欢迎文件清单<welcome-file-list>的配置，该元素可包含多个\<welcome-file>子元素，当Web容器调用欢迎界面时，将首先查看第一个\<welcome-file>子元素中定义的文件是否存在，若存在，则将其返回给用户，若不存在，继续判断第二个\<welcome-file>子元<br> 素中定义的文件……，配置示例如下：</welcome-file></welcome-file></welcome-file></welcome-file-list></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;welcome-file-list&gt;</div><div class="line">    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;</div><div class="line">    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;</div><div class="line">    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;</div><div class="line"> &lt;/welcome-file-list&gt;</div></pre></td></tr></table></figure>
<p> 接着讲述一下在web.xml中如何配置错误处理，这时需要使用<error-page>元素,该元素可以根据异常的类型来配置跳转的页面，还可以根据错误码来配置跳转页面，配<br> 置示例如下：</error-page></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!-- 根据错误码进行跳转--&gt;</div><div class="line">&lt;error-page&gt;</div><div class="line">&lt;error-code&gt;500&lt;/error-code&gt;</div><div class="line">&lt;location&gt;/error.jsp&lt;/location&gt;</div><div class="line">&lt;/error-page&gt;</div><div class="line">&lt;!-- 根据异常进行跳转--&gt;</div><div class="line">&lt;error-page&gt;</div><div class="line">&lt;exception-type&gt;Java.lang.NullException&lt;/exception-type&gt;</div><div class="line">&lt;location&gt;/error.jsp&lt;/location&gt;</div><div class="line">&lt;/error-page&gt;</div></pre></td></tr></table></figure>
<h6 id="1-3-tld文件的配置"><a href="#1-3-tld文件的配置" class="headerlink" title="1.3 tld文件的配置"></a>1.3 tld文件的配置</h6><p>若Web工程没有使用Struts的标签库，可以不在web.xml中使用Struts的标签库信息。当然若开发人员使用了struts的标签库，也可以直接在jsp页面中引入标签库，例如通过如下方式引入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> &lt;%@ taglib uri=&quot;/WEB-INF/struts-bean.tld&quot; prefix=&quot;bean&quot;%&gt;</div><div class="line"> &lt;%@ taglib uri=&quot;/WEB-INF/struts-html.tld&quot; prefix=&quot;html&quot;%&gt;</div><div class="line"> &lt;%@ taglib uri=&quot;/WEB-INF/struts-logic.tld&quot; prefix=&quot;logic&quot;%&gt;</div><div class="line"> &lt;%@ taglib uri=&quot;/WEB-INF/struts-nested.tld&quot; prefix=&quot;nested&quot;%&gt;   </div><div class="line">```   </div><div class="line"></div><div class="line">在Struts中进行配置的的好处是因为可以在Struts中配置为tld文件配置一个简要的</div><div class="line"> 名称或者更加易懂的名称，例如在web.xml文件中增加如下配置：</div></pre></td></tr></table></figure>
<p> <taglib><br>     <taglib-uri>/tags/struts-bean</taglib-uri><br>     <taglib-location>/WEB-INF/struts-bean.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-html</taglib-uri><br>     <taglib-location>/WEB-INF/struts-html.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-logic</taglib-uri><br>     <taglib-location>/WEB-INF/struts-logic.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-nested</taglib-uri><br>     <taglib-location>/WEB-INF/struts-nested.tld</taglib-location><br>  </taglib><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">其中&lt;taglib-uri&gt;元素指定标签库的相对或者绝对URI地址，Web应用将根据这一URI</div><div class="line">来访问标签库；&lt;taglib-location&gt;元素指定标签库描述文件在文件资源系统中的物理位置。此时在jsp页面通过如下方面引入标签库:</div></pre></td></tr></table></figure></p>
<p> &lt;%@ taglib uri=”/tags/struts-bean “ prefix=”bean”%&gt;<br> &lt;%@ taglib uri=”/tags/struts-html” prefix=”html”%&gt;<br> &lt;%@ taglib uri=”/tags/struts-logic “ prefix=”logic”%&gt;<br> &lt;%@ taglib uri=”/tags/struts-nested “ prefix=”nested”%&gt;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">###### 1.4 完整配置实例 </div><div class="line"></div><div class="line">下面举一个使用Struts的Web项目的web.xml的简单配置实例（该实例开发人员也参考struts</div><div class="line"> -1.2.8-bin.zip包的webapps目录下的struts-mailreader.war），内容如下所示：</div></pre></td></tr></table></figure></p>
<p> &lt;?xml version=”1.0” encoding=”ISO-8859-1”?&gt;<br> &lt;!DOCTYPE web-app<br>  PUBLIC “-//Sun Microsystems, Inc.//DTD Web Application 2.2//EN”<br>  “<a href="http://java.sun.com/j2ee/dtds/web-app_2_2.dtd&quot;&gt;" target="_blank" rel="external">http://java.sun.com/j2ee/dtds/web-app_2_2.dtd&quot;&gt;</a><br> <web-app><br>   <display-name>Struts Example Application</display-name><br>  <!-- Action Servlet Configuration --><br>  <servlet><br>     <servlet-name>action</servlet-name><br>     <servlet-class>org.apache.struts.action.ActionServlet</servlet-class><br>     <init-param><br>       <param-name>config</param-name><br>       <param-value>/WEB-INF/struts-config.xml,<br>       /WEB-INF/struts-config-registration.xml</param-value><br>     </init-param><br>     <load-on-startup>1</load-on-startup><br>  </servlet><br>  <!-- Action Servlet Mapping --><br>  <servlet-mapping><br>     <servlet-name>action</servlet-name><br>     <url-pattern>*.do</url-pattern><br>  </servlet-mapping><br>  <!-- 欢迎列表--><br>  <welcome-file-list><br>     <welcome-file>index.jsp</welcome-file><br>  </welcome-file-list><br>  <!-- 错误处理 --><br>  <error-page><br>    <exception-type>java.lang.Exception</exception-type><br>    <location>/error.jsp</location><br>  </error-page><br>  <taglib><br>     <taglib-uri>/tags/struts-bean</taglib-uri><br>     <taglib-location>/WEB-INF/struts-bean.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-html</taglib-uri><br>     <taglib-location>/WEB-INF/struts-html.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-logic</taglib-uri><br>     <taglib-location>/WEB-INF/struts-logic.tld</taglib-location><br>  </taglib><br>  <taglib><br>     <taglib-uri>/tags/struts-nested</taglib-uri><br>    <taglib-location>/WEB-INF/struts-nested.tld</taglib-location><br>  </taglib><br> </web-app><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">#### 2 properties资源文件 </div><div class="line"> 默认情况下，Struts默认的资源文件为ApplicationResources.properties文件。资源文件可为一个束，可针对不同的语言，写不同的资源文件，开发人员可以定义英文、简体中文、繁体中文、日文等资源文件，资源文件的命名格式为：资源文件名_国别_语言.properties，常见的资源文件名称为：</div><div class="line">   ApplicationResources.properties：默认资源文件，或英文资源文件</div><div class="line">   ApplicationResources_zh_CN.properties：简体中文</div><div class="line">   ApplicationResources_zh_TW.properties：繁体中文    </div><div class="line">  每一个资源文件都是“键-值”对的集合，例如可在src目录下的资源文件ApplicationResources.properties中，编写如下内容：</div><div class="line"> UserForm.userName = USERNAME</div><div class="line"> UserForm.password = PASSWORD   </div><div class="line">  同时在src目录下建立ApplicationResources_zh_CN.properties.bak文件来编写简体中文的原始资源文件，内容如下：</div><div class="line"> UserForm.userName = 用户名</div><div class="line"> UserForm.password = 密码   </div><div class="line"> 开发人员还可以建立ApplicationResources_zh_TW.properties.bak文件编写繁体中文的原始资源文件。其内容如下：</div><div class="line"> UserForm.userName = ノめ?W</div><div class="line"> UserForm.password = ノめ?W    </div><div class="line">  对于简体中文和繁体中文文件，开发人员还需要对其使用native2ascii工具对其进行转换，将非ASCII码转换为Unicode编码，native2ascii工具在%JAVA_HOME%/bin目录下的native2ascii.exe，因此若要进行这种转换，读者首先需要安装了该工具。安装了该工具之后，进入其所在目录，运行native2ascii…命令可进行编码转换，为了能在命令行直接使用该命令，读者还需要在系统变量PATH中添加路径：%JAVA_HOME%&quot;bin。在实际项目中，一般编写一个批处理文件(eg.code.bat)来处理资源文件的编码，例如code.bat为如下内容时，可满足要求将如上的ApplicationResources_zh_CN.properties.bak文件进行编码，并将编码后的信息放入ApplicationResources_zh_CN.properties文件中。该批处理文件的内容如下所示：</div></pre></td></tr></table></figure></p>
<p> del ApplicationResources_zh_CN.properties<br> copy ApplicationResources_zh_CN.properties.bak<br> ApplicationResources_zh_CN.properties.gbk<br> native2ascii -encoding GBK ApplicationResources_zh_CN.properties.gbk<br> ApplicationResources_zh_CN.properties<br> del ApplicationResources_zh_CN.properties.gbk<br> del ApplicationResources_zh_TW.properties<br> copy ApplicationResources_zh_TW.properties.bak<br> ApplicationResources_zh_TW.properties.big5<br> native2ascii -encoding Big5 ApplicationResources_zh_TW.properties.big5<br> ApplicationResources_zh_TW.properties<br> del ApplicationResources_zh_TW.properties.big5<br> del *.bak.bak<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line">        运行code.bat之后，可看到目录下多出了两个资源文件，即：ApplicationResource</div><div class="line">        s_zh_CN.properties和ApplicationResources_zh_TW.properties。其中Applicatio</div><div class="line">        nResources_zh_CN.properties的内容是经过编码的，内容如下：</div><div class="line">        UserForm.userName = &quot;u7528&quot;u6237&quot;u540d</div><div class="line">        UserForm.password = &quot;u5bc6&quot;u7801  </div><div class="line">        在jsp页面中，可以通过Struts的自定义标签来获取资源文件的某个键（例如：User</div><div class="line">        Form.userName）的信息。示例如下：</div><div class="line">       &lt;bean:message key=&quot;UserForm.userName&quot;/&gt;</div><div class="line"></div><div class="line">##### 3 流程步骤</div><div class="line">##### 1.检索和用户请求匹配的Actionmapping(文件配置在struts-config.xml文件中),对于一个表单在文件中需要实现如下配置</div></pre></td></tr></table></figure></p>
<pre><code>&lt;!-- 配置表单实体 --&gt;
&lt;form-beans&gt;
   &lt;form-bean name=&quot;loginForm&quot; type=&quot;com.youcompany.forms.LoginForm&quot; /&gt;
&lt;/form-beans&gt;
属性介绍:
name=&quot;loginFrom&quot; 对应JSP页面表单的name属性
type=&quot;com.youcompnay.forms.LoginForm&quot; 对应该表单的处理类,该类集成struts的ActionForm可作验证,类型转换等功能,
负责将form包装成一个form对象
&lt;!-- 表单处理及后期转换--&gt;
&lt;action-mappings&gt;
&lt;action path=&quot;/login&quot; type=&quot;com.yourcompany.actions.LoginAction&quot;
name=&quot;loginForm&quot; scope=&quot;request&quot; input=&quot;/login.jsp&quot; &gt;
  &lt;forward name=&quot;success&quot; path=&quot;/menu.jsp&quot;&gt;&lt;/forward&gt;
   &lt;forward name=&quot;fails&quot; path=&quot;/login.jsp&quot;&gt;&lt;/forward&gt;
&lt;/action&gt;
</code></pre><p>   <br>```</p>
<p>   属性介绍<br>  \<action>部分是说明action的属性。Type 指定Action的类名,负责处理此次form表单请求的类Name 指定Action主力的ActionForm名，与<form-beans>元素的name属性匹配。Scope 指定ActionForm存在的范围, (request, application)Input 指定包含客户提交表单的网页，如果ActionForm的Validate方法返回错误，则因该把用户<br>  请求转发到这个网页。<br>  Validate 如果取值为true，则表示ActionServlet应该调用ActionForm的validate方法<br>  Forward 就是Action的execute方法执行完毕后，把客户请求在转发给相应的页面。<br>  总结,对于struts每一个form表单处理, 常见操作是建立如下的package<br>     com.yourcompany.forms<br>  负责将表单包装成对象<br>     com.youcompany.action<br>  处理表单,调用其他组件实现业务逻辑,并负责处理之后的返回,显示<br>     struts-config.xml<br>  配置文件,ActionServlet将检查该配置,并实现流程串接.</form-beans></action></p>
<h5 id="2-如果ActionForm实例不存在-就创建一个ActionForm对象-把客户提交的表单保存到ActionForm对象中"><a href="#2-如果ActionForm实例不存在-就创建一个ActionForm对象-把客户提交的表单保存到ActionForm对象中" class="headerlink" title="2. 如果ActionForm实例不存在, 就创建一个ActionForm对象,把客户提交的表单保存到ActionForm对象中"></a>2. 如果ActionForm实例不存在, 就创建一个ActionForm对象,把客户提交的表单保存到ActionForm对象中</h5><p>  总结: 自动创建的ActionForm主要实现表单字段的getter,setter方法, 如果表单字段需要转换成各种对象,其中涉及到类型转换的知识:<br>    struts的类型转换:??????</p>
<h5 id="3-根据配置信息决定是否需要进行表单验证-如果需要验证-就调用ActionForm的validate-方法"><a href="#3-根据配置信息决定是否需要进行表单验证-如果需要验证-就调用ActionForm的validate-方法" class="headerlink" title="3. 根据配置信息决定是否需要进行表单验证, 如果需要验证, 就调用ActionForm的validate()方法"></a>3. 根据配置信息决定是否需要进行表单验证, 如果需要验证, 就调用ActionForm的validate()方法</h5><pre><code>ActionForm的Validate()方法, 这个很简单,你只需要在ActionForm的包装类中重写validate()方法即可,如果验证不成功,请返回
</code></pre><h5 id="4-如果ActionForm的validate-方法返回null或返回一个不包含ActionMessage的ActionErrors对象-就表示表单验证成功"><a href="#4-如果ActionForm的validate-方法返回null或返回一个不包含ActionMessage的ActionErrors对象-就表示表单验证成功" class="headerlink" title="4. 如果ActionForm的validate()方法返回null或返回一个不包含ActionMessage的ActionErrors对象,就表示表单验证成功."></a>4. 如果ActionForm的validate()方法返回null或返回一个不包含ActionMessage的ActionErrors对象,就表示表单验证成功.</h5><h5 id="5-ActionServlet根据ActionMapping实例包含的映射信息决定将请求转发给哪个Action-如果Action实例不存在-就先创建这个实例"><a href="#5-ActionServlet根据ActionMapping实例包含的映射信息决定将请求转发给哪个Action-如果Action实例不存在-就先创建这个实例" class="headerlink" title="5. ActionServlet根据ActionMapping实例包含的映射信息决定将请求转发给哪个Action, 如果Action实例不存在,就先创建这个实例,"></a>5. ActionServlet根据ActionMapping实例包含的映射信息决定将请求转发给哪个Action, 如果Action实例不存在,就先创建这个实例,</h5><pre><code>然后调用Action的execute方法
</code></pre><h5 id="6-Action的execute返回ActionForward对象-ActionServlet在把客户请求转发到ActionForward对象指向到JSP组件"><a href="#6-Action的execute返回ActionForward对象-ActionServlet在把客户请求转发到ActionForward对象指向到JSP组件" class="headerlink" title="6. Action的execute返回ActionForward对象,ActionServlet在把客户请求转发到ActionForward对象指向到JSP组件."></a>6. Action的execute返回ActionForward对象,ActionServlet在把客户请求转发到ActionForward对象指向到JSP组件.</h5><h5 id="7-ActionForward对象指向的JSP组件动态生成网页-返回给客户"><a href="#7-ActionForward对象指向的JSP组件动态生成网页-返回给客户" class="headerlink" title="7. ActionForward对象指向的JSP组件动态生成网页,返回给客户."></a>7. ActionForward对象指向的JSP组件动态生成网页,返回给客户.</h5>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/10/19/struts1学习-一/" class="archive-article-date">
  	<time datetime="2016-10-19T08:35:07.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-10-19</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/struts1-servlet/">-struts1 -servlet -</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/SSH框架/">SSH框架</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2016/10/19/struts1学习（二）/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          struts1学习（二）
        
      </div>
    </a>
  
  
    <a href="/2016/10/18/java获取图片大小高宽/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">java获取图片大小高宽</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>




<div class="share_addthis share_jia">
  <div class="sharing addthis_toolbox share">
  	<span class="jiathis_txt">Share to: &nbsp; </span>
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="struts1学习-一" data-title="struts1学习(一)" data-url="https://github.com/startshineye/2016/10/19/struts1学习-一/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/struts1-servlet/" style="font-size: 10px;">-struts1 -servlet -</a> <a href="/tags/java/" style="font-size: 10px;">java</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>