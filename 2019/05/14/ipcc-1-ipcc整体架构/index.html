<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>ipcc-1-ipcc整体架构 | Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ipcc总体架构模块 
1.fsg模块FSG模块作为:AG(CTI)和FS进行交互模块,其作用就是一个接口调用服务。对应的配置文件是:/cc/cfg/fsg.cfg对应的日志文件是:/cc/log/fsg**.log和/cc/bin/log/log*.log其日志记录了ipcc内部和外部中继网络交互的日志详情。  
1.1.fsg模块修改日志有时候,我们为了排查和外部对接的错误信息时候,可以通过两">
<meta property="og:type" content="article">
<meta property="og:title" content="ipcc-1-ipcc整体架构">
<meta property="og:url" content="https://github.com/startshineye/2019/05/14/ipcc-1-ipcc整体架构/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="ipcc总体架构模块 
1.fsg模块FSG模块作为:AG(CTI)和FS进行交互模块,其作用就是一个接口调用服务。对应的配置文件是:/cc/cfg/fsg.cfg对应的日志文件是:/cc/log/fsg**.log和/cc/bin/log/log*.log其日志记录了ipcc内部和外部中继网络交互的日志详情。  
1.1.fsg模块修改日志有时候,我们为了排查和外部对接的错误信息时候,可以通过两">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/18.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/62.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/63.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/64.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/6.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/7.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/8.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/9.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/81.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/82.png">
<meta property="og:updated_time" content="2019-07-24T14:39:10.109Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ipcc-1-ipcc整体架构">
<meta name="twitter:description" content="ipcc总体架构模块 
1.fsg模块FSG模块作为:AG(CTI)和FS进行交互模块,其作用就是一个接口调用服务。对应的配置文件是:/cc/cfg/fsg.cfg对应的日志文件是:/cc/log/fsg**.log和/cc/bin/log/log*.log其日志记录了ipcc内部和外部中继网络交互的日志详情。  
1.1.fsg模块修改日志有时候,我们为了排查和外部对接的错误信息时候,可以通过两">
<meta name="twitter:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-ipcc-1-ipcc整体架构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ipcc-1-ipcc整体架构
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="ipcc总体架构模块"><a href="#ipcc总体架构模块" class="headerlink" title="ipcc总体架构模块"></a>ipcc总体架构模块</h3><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png" alt=""> </p>
<h4 id="1-fsg模块"><a href="#1-fsg模块" class="headerlink" title="1.fsg模块"></a>1.fsg模块</h4><p>FSG模块作为:AG(CTI)和FS进行交互模块,其作用就是一个接口调用服务。<br>对应的配置文件是:/cc/cfg/fsg.cfg<br>对应的日志文件是:/cc/log/fsg<em>**</em>.log和/cc/bin/log/log*.log<br>其日志记录了ipcc内部和外部中继网络交互的日志详情。  </p>
<h5 id="1-1-fsg模块修改日志"><a href="#1-1-fsg模块修改日志" class="headerlink" title="1.1.fsg模块修改日志"></a>1.1.fsg模块修改日志</h5><p>有时候,我们为了排查和外部对接的错误信息时候,可以通过两种方式:<br>1.修改fsg的日志级别为6<br>2.通过tcpdump -w xx.cap抓包<br>以下为修改fsg的日志级别为6的设置  </p>
<h6 id="1-删除原来的fsg相关日志文件"><a href="#1-删除原来的fsg相关日志文件" class="headerlink" title="1.删除原来的fsg相关日志文件"></a>1.删除原来的fsg相关日志文件</h6><ol>
<li>删除/cc/bin/log文件目录下的文件  </li>
<li>删除/cc/log/fsg*.log文件  <h6 id="2-修改日志级别配置文件fsg-cfg"><a href="#2-修改日志级别配置文件fsg-cfg" class="headerlink" title="2.修改日志级别配置文件fsg.cfg"></a>2.修改日志级别配置文件fsg.cfg</h6></li>
<li>修改fsg.cfg里面SET下的日志级别文件为6<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/18.png" alt=""> </li>
</ol>
<h6 id="3-以写入文件的方式启动fsg-sh"><a href="#3-以写入文件的方式启动fsg-sh" class="headerlink" title="3.以写入文件的方式启动fsg.sh"></a>3.以写入文件的方式启动fsg.sh</h6><p>进入/cc/bin下输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fsg.sh restart &gt; /cc/bin/log/xxx.log</div></pre></td></tr></table></figure>
<h4 id="2-日志文件模块"><a href="#2-日志文件模块" class="headerlink" title="2.日志文件模块"></a>2.日志文件模块</h4><h5 id="2-1-查看和机器人交互日志"><a href="#2-1-查看和机器人交互日志" class="headerlink" title="2.1.查看和机器人交互日志"></a>2.1.查看和机器人交互日志</h5><p>和机器人交互日志都是通过ivr流程中http传数据,所以在httpg日志,需要看就提详细信息可以看dyflow日志</p>
<h5 id="2-2-查看任务加载-工作日-时间段-呼叫情况"><a href="#2-2-查看任务加载-工作日-时间段-呼叫情况" class="headerlink" title="2.2.查看任务加载,工作日,时间段,呼叫情况"></a>2.2.查看任务加载,工作日,时间段,呼叫情况</h5><ol>
<li>1.任务即是notify,但是任务在呼叫前任务加载,工作日,时间段都是在dbg_dbg01模块</li>
<li>2.查看任务呼叫情况:callnotify_callnotify01.log  </li>
<li>3.查看任务调用api模块:callnotify_callnotifyapi.log  </li>
<li>4.查看任务呼叫失败情况,没有数据插入到cti_cdr、ocm_result：查看callnotify_callnotifyfailsql.log  </li>
</ol>
<h4 id="3-ipcc对接其他server"><a href="#3-ipcc对接其他server" class="headerlink" title="3.ipcc对接其他server"></a>3.ipcc对接其他server</h4><p>参考:<a href="https://blog.csdn.net/gredn/article/details/40581871" target="_blank" rel="external">https://blog.csdn.net/gredn/article/details/40581871</a></p>
<h5 id="3-1-修改freeswitch配置"><a href="#3-1-修改freeswitch配置" class="headerlink" title="3.1 修改freeswitch配置"></a>3.1 修改freeswitch配置</h5><p>从平台架构我们知道,我们现在需要和外部第三方sipServer对接,首先需要打通各自的网络,然后就是配置相关的网管  </p>
<ol>
<li>1.进入freeswitch目录下freeswitch/conf/sip_profiles/external其中有外部网管模块。 拷贝存在的一个网关配置<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/62.png" alt="">  </li>
<li>2.修改gw3.xml中对接的外部sipServer地址和端口:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/63.png" alt=""> </li>
<li>3.重启freeswitch<br>进入freeswitch的bin目录停止fs:./freeswitch -stop<br>进入freeswitch的bin目录启动fs:./freeswitch -nc -nonat  </li>
</ol>
<h5 id="3-2-修改号码网管路由"><a href="#3-2-修改号码网管路由" class="headerlink" title="3.2 修改号码网管路由"></a>3.2 修改号码网管路由</h5><ol>
<li>1.修改cti_route表<br>打开数据库表cti_route配置主叫外显号码和网关对应的关系<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/64.png" alt=""> </li>
<li>2.重启fsg<br>进入/cc/bin目录下:执行:./fsg.sh restart  </li>
</ol>
<h5 id="3-3-使用抓包工具抓包"><a href="#3-3-使用抓包工具抓包" class="headerlink" title="3.3 使用抓包工具抓包"></a>3.3 使用抓包工具抓包</h5><p>对接完之后,如果电话不通,那么就需要使用wireshake进行网络抓包,分析包  </p>
<h4 id="4-ipcc对每个号码并发进行控制"><a href="#4-ipcc对每个号码并发进行控制" class="headerlink" title="4.ipcc对每个号码并发进行控制"></a>4.ipcc对每个号码并发进行控制</h4><p>在/cc/cfg/notify.cfg下的callnotify添加:examentline=1表明开启了号码并发设置<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/6.png" alt="">  </p>
<h4 id="5-ipcc配置空号检测"><a href="#5-ipcc配置空号检测" class="headerlink" title="5.ipcc配置空号检测"></a>5.ipcc配置空号检测</h4><ol>
<li>1.首先正常安装并启用空号检测da2(安装数据库、程序)  </li>
<li>2.如果空号检测部署在一台服务器上，我们呼叫平台部署在多台服务器上，我们如何配置呢?  </li>
<li>3.查看/usr/local/freeswitch/conf下面文件:da2.json<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/7.png" alt="">  </li>
<li>4.重启freeswitch:进入freeswitch的bin目录:执行:./freeswitch -stop 再执行:./freeswitch -nc -nonat  </li>
<li>5.打开freeswitch客户端:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./fs_cli -P 8031 -p testtest</div></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/8.png" alt=""> </p>
<ol>
<li>6.在fs控制台客户端输入:da2 show<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/9.png" alt=""><br>出现上面问题说明成功,如果一直不成功检查对应数据库表  </li>
</ol>
<h4 id="6-ipcc中cdr关于服务"><a href="#6-ipcc中cdr关于服务" class="headerlink" title="6.ipcc中cdr关于服务"></a>6.ipcc中cdr关于服务</h4><ol>
<li>1.服务水平只对呼入而言的 呼出不用管  calltype=100 and dir=1  </li>
<li>2.starttime  connecttime和endtime 是整个电话的开始 接起和结束时间</li>
<li>3.workstarttime 是电话进入acd的时间  workconnect是坐席接起电话的时间 workendtime是坐席服务结束的时间 acmtime 在呼入的时候是坐席开始振铃时间（注意  在呼出的时候是用户振铃时间）</li>
<li>4.acmtime是服务水平的统计标志</li>
<li>5.用户呼叫系统的全部电话（呼入我们目前都要进入ivr ）：calltype&lt;300 and dir = 1 </li>
<li>6.坐席呼出用户的电话  calltype=100 || calltype=113||calltype=114  and dir=0</li>
<li>7.自动外呼呼出的电话   notifyid is not null</li>
<li>8.里面 connecttime  workconnecttime字段很重要 判断是否接通的依据</li>
<li>9.建议：现在数据除了cdr表外 通话数据 坐席数据 其实已经通过ice推送给ccms了、ccms能不能做一些文件存储 然后通过一些外部工具进行数据分析、毕竟cdr是生产上的 不能频繁访问、 ZeroC ICE提供一种打补丁方式，名为IcePatch2。基本功能就是通过ICE通讯将服务器上的最近软件部署到各个客户端中，这间接的实现了文件传输功能，</li>
</ol>
<h4 id="7-ipcc中任务呼叫失败原因"><a href="#7-ipcc中任务呼叫失败原因" class="headerlink" title="7.ipcc中任务呼叫失败原因"></a>7.ipcc中任务呼叫失败原因</h4><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/81.png" alt="">  </p>
<h4 id="8-ipcc中任务脚本通知"><a href="#8-ipcc中任务脚本通知" class="headerlink" title="8.ipcc中任务脚本通知"></a>8.ipcc中任务脚本通知</h4><p>通过shell脚本的iniwrite和ice不能并存,如果用ice需要把iniwrite改成iniwrite1或者其他<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/82.png" alt=""> </p>
<h4 id="9-ipcc中配置"><a href="#9-ipcc中配置" class="headerlink" title="9.ipcc中配置"></a>9.ipcc中配置</h4><ol>
<li>1.notify.cfg(外呼参数配置)  </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line">-ICE的基本配置  </div><div class="line">Ice.MessageSizeMax=1024</div><div class="line">Ice.ThreadPool.Client.Size=5</div><div class="line">Ice.ThreadPool.Server.Size=5</div><div class="line">Ice.ThreadPool.Client.SizeMax=16</div><div class="line">Ice.ThreadPool.Server.SizeMax=16</div><div class="line">NodeName=callnotify01</div><div class="line">callnotify01.Endpoints=tcp -p 37821</div><div class="line">AppType=1</div><div class="line">servicecounts=1</div><div class="line">service1.name=callnotify  </div><div class="line">-acd服务下要加载多少个组件</div><div class="line">service1.comcounts=2</div><div class="line">-服务1的组件1的名称</div><div class="line">service1.com1.name=callnotify</div><div class="line">-服务1的组件1的函数入口就是TCallnotify.dll, createCallNotify(不能修改)是dll的入口函数</div><div class="line">service1.com1.funname=TCallnotify:createCallNotify  </div><div class="line">-服务1的组件2的名称</div><div class="line">service1.com2.name=rptque</div><div class="line">service1.com2.funname=TCallnotify:createRptque</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">[callnotify]</div><div class="line">examentline=1</div><div class="line">reloadhmd= 0</div><div class="line">reloadhotline= 0</div><div class="line">reloadutocallet= 0</div><div class="line">reloadocm= 0</div><div class="line">reloadentline= 0</div><div class="line">dbhpcount=1</div><div class="line">gettaskTime=10</div><div class="line">autohanguptime=360</div><div class="line">delsessionwhenoutflow=1</div><div class="line">examentline=1</div><div class="line">service1.logcounts=3</div><div class="line">log1.name=callnotify01</div><div class="line">log1.maxno=100</div><div class="line">log1.maxtime=36000</div><div class="line">log1.maxsize=10000</div><div class="line">log1.cache=100</div><div class="line">log1.out=2</div><div class="line">log1.level=7</div><div class="line">log1.path=../log</div><div class="line"></div><div class="line">log2.name=callnotifyapi01</div><div class="line">log2.maxno=500</div><div class="line">log2.maxtime=36000</div><div class="line">log2.maxsize=10000</div><div class="line">log2.cache=1</div><div class="line">log2.out=2</div><div class="line">log2.level=4</div><div class="line">log2.path=../log</div><div class="line"></div><div class="line">log3.name=callnotifysql01</div><div class="line">log3.maxno=500</div><div class="line">log3.maxtime=36000</div><div class="line">log3.maxsize=10000</div><div class="line">log3.cache=1</div><div class="line">log3.out=2</div><div class="line">log3.level=5</div><div class="line">log3.path=../log</div><div class="line">slavemode=0</div><div class="line">fee=0</div><div class="line"></div><div class="line">useeventlevel=1</div><div class="line">dbcalls=0</div><div class="line"></div><div class="line">threadcount=5</div><div class="line">acdflowno=100</div><div class="line">toivr=0</div><div class="line">ora=0</div><div class="line">gotoacd=0</div><div class="line">maxnullindex=1200</div><div class="line">calculationtype=1</div><div class="line">calltimes=10</div><div class="line">abandrate=20</div><div class="line">abandcalltimes=10</div><div class="line">capslen=1</div><div class="line">ancrate=-0.3</div><div class="line">refreshtime=80000</div><div class="line">checkidletime=1</div><div class="line">checkanctime=100</div><div class="line">uprate=0.3</div><div class="line">downrate=0.1</div><div class="line">maxcheckcount=4</div><div class="line"></div><div class="line">failcodenocall1=410</div><div class="line">failcode1=1999,603,1005</div><div class="line">httpcheck=100</div><div class="line">httpgprxname=httpg01/httpg:tcp -h 127.0.0.1 -p 34033</div><div class="line"></div><div class="line">dbagent.dbgprxname=dbgnotify01/dbg:tcp -h 127.0.0.1 -p 21005</div><div class="line">dbagent.dbconnstr=yccc</div><div class="line">dbagent.dbuserid=root</div><div class="line">dbagent.dbpassword=rbjf@123$%^</div><div class="line">dbagent.dbtimeout=-1</div><div class="line">dbagent.dbmaxconn=4</div><div class="line">getqueuefromacd=2</div><div class="line"></div><div class="line">nodeid=1</div><div class="line">maxline=500</div><div class="line">check_loginwork=0</div><div class="line">loginworkrate=10</div><div class="line">recylecust,300,notin=0,200,402,410</div><div class="line">recylecust,100,in=200</div><div class="line">[hmp]</div><div class="line">hmpcheck=5</div><div class="line">hmpprxname=hmp01/hmp:tcp -h 127.0.0.1 -p 8999</div><div class="line">[api]</div><div class="line">flowno=300</div><div class="line">agcount=1</div><div class="line">ag1.prx=ag01/ag: tcp -h 127.0.0.1 -p 32011</div><div class="line">ag1.maxcall=0</div><div class="line">loggername=callnotifyapi01</div><div class="line">sessiontimeout=36000</div><div class="line"> </div><div class="line">[lic]</div><div class="line">licprxname=licg01/licg:tcp -h 127.0.0.1 -p 17904</div><div class="line">``` </div><div class="line"></div><div class="line"></div><div class="line">2. 2.dyflow.cfg(外呼流程配置)</div></pre></td></tr></table></figure>
<p>NodeName=dyflow01<br>dyflow01.Endpoints=tcp -p 38011<br>AppType=1<br>servicecounts=1<br>service1.name=dyflow<br>service1.comcounts=2<br>service1.com1.name=dyflow<br>service1.com1.funname=TDyFlow:createDyFlow<br>service1.com2.name=rptque<br>service1.com2.funname=TDyFlow:createRptque</p>
<p>[dyflow]<br>loadscript= 0<br>service1.logcounts=3<br>log1.name=dyflow01<br>log1.maxno=500<br>log1.maxtime=36000<br>log1.out=2<br>log1.cache=200<br>log1.level=6<br>log1.path=../log<br>log2.name=dyflowapi01<br>log2.maxno=500<br>log2.maxtime=36000<br>log2.out=2<br>log2.level=4<br>log2.cache=200<br>log2.path=../log<br>cachedbtime=120<br>log3.name=dyflowdb01<br>log3.maxno=500<br>log3.maxtime=36000<br>log3.out=2<br>log3.level=5<br>log3.cache=1<br>log3.path=../log<br>dbcalls=1<br>synchrorec=1<br>utf8code=1<br>checkfee=0<br>slavemode=0<br>ora=0<br>dbcalls=1<br>threadcount=5<br>acdflowno=100<br>httpcheck=100<br>httpgprxname=httpg01/httpg:tcp -h 127.0.0.1 -p 34033<br>intellpath=<br>didflag=0<br>didancflag=1<br>getsubtrunk=1<br>getsubtrunkleft=4<br>getsubtrunkflag=0<br>sql.haflag=1<br>sql.dumpfilename=../log/dyflow_sql.txt<br>usemrcptts=1<br>crsaddr=<a href="http://47.105.145.52:9270" target="_blank" rel="external">http://47.105.145.52:9270</a></p>
<p>dbagent.dbgprxname=dbg01/dbg:tcp -h 127.0.0.1 -p 21001<br>dbagent.dbconnstr=yccc<br>dbagent.dbuserid=root<br>dbagent.dbpassword=rbjf@123$%^<br>dbagent.dbtimeout=-1<br>dbagent.dbmaxconn=5</p>
<p>checkcall=0<br>sidhead=1<br>checkcalltime=30<br>checkdial1=111111<br>checkdial2=111112</p>
<p>nodeid=1<br>maxline=500<br>-baidu.cuid=13911513894<br>-baidu.apiKey=EvyHjeNn7VGrL8LmpfUkP3Xw<br>-baidu.secretkey=ap1oKCqyOTGM8YI2K9YFgx2priSK8bPL<br>baidu.cuid=13910412236-8K<br>baidu.apiKey=lDqz3BziPXR1N1xn68eZvSs9<br>baidu.secretKey=b3c310cd9d916529122487866ffa9b9a<br>tc.url=<a href="http://125.77.202.194:3998/doasr" target="_blank" rel="external">http://125.77.202.194:3998/doasr</a><br>tc.userid=13910412236-8K<br>tc.token=yctest<br>asr.mode=1<br>useasr=0<br>asr.usenltk=0<br>mrcp.profilever=2<br>mrcp.rootpath=/usr/local/unimrcp<br>rmcp.grammar=grammar.xml<br>full_duplex=0<br>asr_file_division=,<br>asr.recfilepath=/cc/data/<br>[hmp]<br>hmpcheck=0<br>hmpprxname=hmp01/hmp:tcp -h 47.92.165.170 -p 8999 </p>
<p>[api]<br>flowno=200<br>agcount=1<br>sessiontimeout=300<br>loggername=dyflowapi01<br>ag1.prx=ag01/ag:tcp -h 127.0.0.1 -p 32011<br>ag2.prx=ag01slave/ag:tcp -h 115.182.84.62 -p 99999</p>
<p>[rptqueserver]<br>rptquename=acd01/rptque:tcp -h 127.0.0.1 -p 37002<br>rptquecheck=5</p>
<p>[lic]<br>licprxname=licg01/licg:tcp -h 127.0.0.1 -p 17904<br>```</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2019/05/14/ipcc-1-ipcc整体架构/" class="archive-article-date">
  	<time datetime="2019-05-14T11:36:04.000Z" itemprop="datePublished"><i class="icon-clock"></i>2019-05-14</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ipcc/">ipcc</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2019/05/18/work-9-maven仓库包下载不下来/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          work-9-maven仓库包下载不下来
        
      </div>
    </a>
  
  
    <a href="/2019/05/13/work-7-搭建配置nginx负载均衡服务器/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">work-7-搭建配置nginx负载均衡服务器</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>




<div class="share_addthis share_jia">
  <div class="sharing addthis_toolbox share">
  	<span class="jiathis_txt">Share to: &nbsp; </span>
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="ipcc-1-ipcc整体架构" data-title="ipcc-1-ipcc整体架构" data-url="https://github.com/startshineye/2019/05/14/ipcc-1-ipcc整体架构/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/CTI/" style="font-size: 11.05px;">CTI</a> <a href="/tags/Cookie/" style="font-size: 10.53px;">Cookie</a> <a href="/tags/DevelopmentSkills/" style="font-size: 10px;">DevelopmentSkills</a> <a href="/tags/Easyui/" style="font-size: 10px;">Easyui</a> <a href="/tags/ElasticStack/" style="font-size: 11.05px;">ElasticStack</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Http/" style="font-size: 10px;">Http</a> <a href="/tags/IE问题/" style="font-size: 10px;">IE问题</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 12.11px;">JVM</a> <a href="/tags/JavaSE/" style="font-size: 15.26px;">JavaSE</a> <a href="/tags/Jeecg/" style="font-size: 11.58px;">Jeecg</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Myeclipse/" style="font-size: 14.21px;">Myeclipse</a> <a href="/tags/Netty/" style="font-size: 16.84px;">Netty</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Oracle/" style="font-size: 16.84px;">Oracle</a> <a href="/tags/Redis/" style="font-size: 12.11px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 11.58px;">Servlet</a> <a href="/tags/Spring/" style="font-size: 10.53px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/SpringBoot/" style="font-size: 19.47px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 12.11px;">SpringCloud</a> <a href="/tags/SpringMVC/" style="font-size: 11.05px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 18.95px;">Vue</a> <a href="/tags/Vue-js-前端开发-快速入门与专业应用/" style="font-size: 17.37px;">Vue.js+前端开发+快速入门与专业应用</a> <a href="/tags/Weblogic/" style="font-size: 12.11px;">Weblogic</a> <a href="/tags/Websocket/" style="font-size: 10.53px;">Websocket</a> <a href="/tags/Work-Problem/" style="font-size: 10px;">Work-Problem</a> <a href="/tags/bg/" style="font-size: 10px;">bg</a> <a href="/tags/c/" style="font-size: 10.53px;">c</a> <a href="/tags/crawler/" style="font-size: 17.89px;">crawler</a> <a href="/tags/dubbo/" style="font-size: 10px;">dubbo</a> <a href="/tags/easyui/" style="font-size: 10px;">easyui</a> <a href="/tags/hibernate/" style="font-size: 10.53px;">hibernate</a> <a href="/tags/html-css/" style="font-size: 10.53px;">html+css</a> <a href="/tags/html-css/" style="font-size: 15.26px;">html-css</a> <a href="/tags/html-ss/" style="font-size: 10px;">html-ss</a> <a href="/tags/im/" style="font-size: 13.68px;">im</a> <a href="/tags/ipcc/" style="font-size: 10px;">ipcc</a> <a href="/tags/jQuery/" style="font-size: 12.11px;">jQuery</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/java-String/" style="font-size: 10px;">java String</a> <a href="/tags/javaSE/" style="font-size: 10.53px;">javaSE</a> <a href="/tags/javaWeb/" style="font-size: 10px;">javaWeb</a> <a href="/tags/javascript/" style="font-size: 11.05px;">javascript</a> <a href="/tags/java并发编程/" style="font-size: 11.58px;">java并发编程</a> <a href="/tags/java集合/" style="font-size: 10.53px;">java集合</a> <a href="/tags/junit测试/" style="font-size: 10px;">junit测试</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 16.32px;">linux</a> <a href="/tags/log4j/" style="font-size: 11.58px;">log4j</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/netty/" style="font-size: 11.58px;">netty</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodeJs/" style="font-size: 10px;">nodeJs</a> <a href="/tags/redis/" style="font-size: 12.63px;">redis</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/shiro/" style="font-size: 12.63px;">shiro</a> <a href="/tags/sockJs/" style="font-size: 10px;">sockJs</a> <a href="/tags/socket网络编程/" style="font-size: 10.53px;">socket网络编程</a> <a href="/tags/struts1/" style="font-size: 11.05px;">struts1</a> <a href="/tags/vue/" style="font-size: 10.53px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/weblogic/" style="font-size: 11.05px;">weblogic</a> <a href="/tags/websocket/" style="font-size: 15.79px;">websocket</a> <a href="/tags/work/" style="font-size: 14.74px;">work</a> <a href="/tags/zyzx/" style="font-size: 18.42px;">zyzx</a> <a href="/tags/代理/" style="font-size: 11.58px;">代理</a> <a href="/tags/前端/" style="font-size: 10.53px;">前端</a> <a href="/tags/动手写一个MVC/" style="font-size: 12.11px;">动手写一个MVC</a> <a href="/tags/反射/" style="font-size: 15.79px;">反射</a> <a href="/tags/异常/" style="font-size: 10px;">异常</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/文件读取/" style="font-size: 10px;">文件读取</a> <a href="/tags/泛型/" style="font-size: 13.16px;">泛型</a> <a href="/tags/注解/" style="font-size: 11.05px;">注解</a> <a href="/tags/类加载器/" style="font-size: 13.16px;">类加载器</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/自己写一个apache服务器/" style="font-size: 16.84px;">自己写一个apache服务器</a> <a href="/tags/转载/" style="font-size: 12.11px;">转载</a> <a href="/tags/集合/" style="font-size: 12.11px;">集合</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>