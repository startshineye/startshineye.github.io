<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>ipcc-1-ipcc整体架构 | Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1.ipcc总体架构模块 
2.系统模块图
2.1 acd模块
1.acd模块acd在平台中的位置  

2.配置坐席呼出https://blog.csdn.net/weixin_34242819/article/details/90492301对于登录坐席工号进行呼出的情况,我们有如下步骤:1.坐席签入后能上线成功  2.坐席能够正确路由到运营商的sip电话进行呼叫  


2.1.1 坐席签入">
<meta property="og:type" content="article">
<meta property="og:title" content="ipcc-1-ipcc整体架构">
<meta property="og:url" content="https://github.com/startshineye/2019/05/14/ipcc-1-ipcc整体架构/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="1.ipcc总体架构模块 
2.系统模块图
2.1 acd模块
1.acd模块acd在平台中的位置  

2.配置坐席呼出https://blog.csdn.net/weixin_34242819/article/details/90492301对于登录坐席工号进行呼出的情况,我们有如下步骤:1.坐席签入后能上线成功  2.坐席能够正确路由到运营商的sip电话进行呼叫  


2.1.1 坐席签入">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/213.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/214.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/64.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/215.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/62.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/63.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/69.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/65.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/66.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/09/67.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/216.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/217.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/218.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/219.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/18.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/10/37.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/62.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/63.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/64.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/6.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/7.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/8.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/9.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/11/83.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/81.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/06/82.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/99.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/95.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/96.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/97.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/100.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/98.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/101.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/102.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/103.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/104.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/105.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/106.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/107.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/108.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/110.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/111.png">
<meta property="og:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/08/109.png">
<meta property="og:updated_time" content="2019-11-21T09:58:16.011Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ipcc-1-ipcc整体架构">
<meta name="twitter:description" content="1.ipcc总体架构模块 
2.系统模块图
2.1 acd模块
1.acd模块acd在平台中的位置  

2.配置坐席呼出https://blog.csdn.net/weixin_34242819/article/details/90492301对于登录坐席工号进行呼出的情况,我们有如下步骤:1.坐席签入后能上线成功  2.坐席能够正确路由到运营商的sip电话进行呼叫  


2.1.1 坐席签入">
<meta name="twitter:image" content="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-ipcc-1-ipcc整体架构" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ipcc-1-ipcc整体架构
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="1-ipcc总体架构模块"><a href="#1-ipcc总体架构模块" class="headerlink" title="1.ipcc总体架构模块"></a>1.ipcc总体架构模块</h3><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/37.png" alt=""> </p>
<h3 id="2-系统模块图"><a href="#2-系统模块图" class="headerlink" title="2.系统模块图"></a>2.系统模块图</h3><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/213.png" alt=""></p>
<h4 id="2-1-acd模块"><a href="#2-1-acd模块" class="headerlink" title="2.1 acd模块"></a>2.1 acd模块</h4><ol>
<li><p>1.acd模块<br>acd在平台中的位置<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/214.png" alt="">  </p>
</li>
<li><p>2.配置坐席呼出<br><a href="https://blog.csdn.net/weixin_34242819/article/details/90492301" target="_blank" rel="external">https://blog.csdn.net/weixin_34242819/article/details/90492301</a><br>对于登录坐席工号进行呼出的情况,我们有如下步骤:1.坐席签入后能上线成功  2.坐席能够正确路由到运营商的sip电话进行呼叫  </p>
</li>
</ol>
<h5 id="2-1-1-坐席签入后能上线成功"><a href="#2-1-1-坐席签入后能上线成功" class="headerlink" title="2.1.1 坐席签入后能上线成功"></a>2.1.1 坐席签入后能上线成功</h5><h6 id="坐席上线"><a href="#坐席上线" class="headerlink" title="坐席上线"></a>坐席上线</h6><p>1.在cti_work表中找到分机,如:100003。<br>2.配置100003到cti_work_queue中去<br>3.在cti_outcaller中配置上线的主叫<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/64.png" alt=""><br>3.在cti_telno中配置分机路由:100003分机呼出使用内线字段、长度在1-6(因为:100003是6位数)、<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/215.png" alt=""><br>4.查看/cc/bin/log下面的日志:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/62.png" alt=""><br>发现话机没有注册,打开一看:是注册的服务错了<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/63.png" alt=""><br>5.如果出问题,查看Acdgate模块下Tomcat日志,在查看/cc/log/acd_acd01.log下的日志<br>acd_acd01.log里面r:开头的。   </p>
<h6 id="机器人锁定坐席转人工"><a href="#机器人锁定坐席转人工" class="headerlink" title="机器人锁定坐席转人工"></a>机器人锁定坐席转人工</h6><p>我们在排查之前可以关掉hmp,设置:hmpcheck=0<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/69.png" alt=""><br>1.在确保坐席能够上线情况下,先配置转人工的机器人场景:1013502011<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/65.png" alt=""><br>2.在批次场景里面创建人批次场景,然后创建对应批次,进行外呼<br>3.查看acd_acd01_xxxx.log下的日志:锁定坐席成功与否?—&gt;TRptque::getandlockagent<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/66.png" alt=""><br>4.外呼后查看日志:httpg_httpg01_xxxx.log<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/09/67.png" alt=""><br>查看机器人转人工文档说明书知道:”att_status”:”0”不在线，”att_status”:”1”在线<br>5.如果和ai交互时候,传递的参数不对的话,我们查看acd模块:<br>TRptque::getandlockagent res=[-1]表示没有获取到空闲坐席<br>6.如果转人工时候,坐席挂不断,说明是坐席表里面的相同workno有多条。  </p>
<p>6.正常交互如下:<br>acd:2019-09-15 09:48:03.453 TRptque::getandlockagent res=[0], workno=[100002] quueueid=[52] usid = [90046126300563]<br>httpg:ai获取空闲坐席:key:[{“userid”:”900461263”,”inaction”:0,”inparams”:{“call_id”:”900461263”,”call_sor_id”:”15188317019”,”call_dst_id”:”051289578445”,”att_status”:”1”}}].<br>ai转人工传递queueid:ok:0,resultbuf[{“ret”:0,”userid”:”900461263”,”outaction”:”11”,”outparams”:{“call_dst_id”:”051289578445”,”queue_id”:”52”,”call_id”:”900461263”,”inter_idx”:”8”,”call_sor_id”:”15188317019”}}].   </p>
<h5 id="2-1-2-正确路由到运营商的sip电话进行呼叫"><a href="#2-1-2-正确路由到运营商的sip电话进行呼叫" class="headerlink" title="2.1.2 正确路由到运营商的sip电话进行呼叫"></a>2.1.2 正确路由到运营商的sip电话进行呼叫</h5><p>1.acd.cfg配置(配置是不是开启did,did是优先级最高的,如果开启,呼叫客户的主叫号码将会是did号码-DID的中文意思是直接拨入，是运营商提出的概念，通过这个号码，运营商可以呼叫到voip系统内，freeswitch上实现外乎呼叫的方式为配置一个网关，指定运营商的接入号和密码，有呼叫这个号码时，运营商会把这个号码送给freeswitch。)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/216.png" alt=""><br>2.acd.cfg配置(设置使用的主叫号码:usefromcaller,如果想要使用cti_work里面的,需要配置为1)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/217.png" alt=""><br>3.配置坐席呼出的主叫显示:cti_outcaller<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/218.png" alt=""><br>4.使用web页面上的软电话条进行呼叫,然后查看呼叫的结果里面是不是我们配置的主叫<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/219.png" alt=""><br>从上面我们可以知道,坐席呼出时候是两通电话。</p>
<h4 id="2-2-fsg模块"><a href="#2-2-fsg模块" class="headerlink" title="2.2.fsg模块"></a>2.2.fsg模块</h4><p>FSG模块作为:AG(CTI)和FS进行交互模块,其作用就是一个接口调用服务。<br>对应的配置文件是:/cc/cfg/fsg.cfg<br>对应的日志文件是:/cc/log/fsg<em>**</em>.log和/cc/bin/log/log*.log<br>其日志记录了ipcc内部和外部中继网络交互的日志详情。  </p>
<h5 id="2-2-1-fsg模块修改日志"><a href="#2-2-1-fsg模块修改日志" class="headerlink" title="2.2.1.fsg模块修改日志"></a>2.2.1.fsg模块修改日志</h5><p>有时候,我们为了排查和外部对接的错误信息时候,可以通过两种方式:<br>1.修改fsg的日志级别为6<br>2.通过tcpdump -w xx.cap抓包<br>以下为修改fsg的日志级别为6的设置  </p>
<h6 id="2-2-1-1-删除原来的fsg相关日志文件"><a href="#2-2-1-1-删除原来的fsg相关日志文件" class="headerlink" title="2.2.1.1.删除原来的fsg相关日志文件"></a>2.2.1.1.删除原来的fsg相关日志文件</h6><ol>
<li>删除/cc/bin/log文件目录下的文件  </li>
<li>删除/cc/log/fsg*.log文件  <h6 id="2-2-1-2-修改日志级别配置文件fsg-cfg"><a href="#2-2-1-2-修改日志级别配置文件fsg-cfg" class="headerlink" title="2.2.1.2.修改日志级别配置文件fsg.cfg"></a>2.2.1.2.修改日志级别配置文件fsg.cfg</h6></li>
<li>修改fsg.cfg里面SET下的日志级别文件为6<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/18.png" alt=""><br>acd在平台起到用户转座席排队，座席分配，座席操作控制等和座席呼叫相关的功能。<h6 id="2-2-1-3-以写入文件的方式启动fsg-sh"><a href="#2-2-1-3-以写入文件的方式启动fsg-sh" class="headerlink" title="2.2.1.3.以写入文件的方式启动fsg.sh"></a>2.2.1.3.以写入文件的方式启动fsg.sh</h6>进入/cc/bin下输入</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fsg.sh restart &gt; /cc/bin/log/xxx.log</div></pre></td></tr></table></figure>
<h4 id="2-3-ag模块"><a href="#2-3-ag模块" class="headerlink" title="2.3 ag模块"></a>2.3 ag模块</h4><h5 id="2-3-1-概述"><a href="#2-3-1-概述" class="headerlink" title="2.3.1 概述"></a>2.3.1 概述</h5><p>AG在整个YC平台中起着集中管理的作用。AG模块就是我们常说的CTI模块。<br>AG起的作用有以下几点：<br>1、    管理多个适配节点的接入。<br>2、    统一对多个节点的电路进行全局编号。<br>3、    对电路进行分组管理。<br>4、    呼入电话路由相应的IVR流程进行处理。<br>5、    呼出电话路由到相应的电路组。<br>6、    管理呼叫电话分配媒体资源（播音，录音，会议，传真等媒体资源）</p>
<h5 id="2-3-2-呼叫问题排查-AG问题排查"><a href="#2-3-2-呼叫问题排查-AG问题排查" class="headerlink" title="2.3.2 呼叫问题排查(AG问题排查)"></a>2.3.2 呼叫问题排查(AG问题排查)</h5><p>理解T、HT、R、HR是理解ag模块的关键  </p>
<ol>
<li>1.按照流程来:T是收到  R是发送 HR是收到发送端的消息 HT是给T端返回信息  </li>
<li>2.对于AG来说:T端是ACD、Dyflow等;R端是fsg  </li>
<li>3.对于FSG来说: T端是ag  R是fsapi  </li>
<li>4.ACD等来说:T端是自己 R端是ag  </li>
</ol>
<p>我们查相关日志时候,先从ag模块(cti模块)查询起,然后一次找到T、R。<br>分析:看ag的日志—&gt;这种交互ag的日志是两边都有的–&gt;从ag里面开始分析—&gt;平台挂机0、200是用户挂的—&gt;从ag开始看确定消息在什么地方不对了 然后再分析fsg测 或者是ivr测的日志<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/10/37.png" alt="">  </p>
<h4 id="2-日志文件模块"><a href="#2-日志文件模块" class="headerlink" title="2.日志文件模块"></a>2.日志文件模块</h4><h5 id="2-1-查看和机器人交互日志"><a href="#2-1-查看和机器人交互日志" class="headerlink" title="2.1.查看和机器人交互日志"></a>2.1.查看和机器人交互日志</h5><p>和机器人交互日志都是通过ivr流程中http传数据,所以在httpg日志,需要看就提详细信息可以看dyflow日志</p>
<h5 id="2-2-查看任务加载-工作日-时间段-呼叫情况"><a href="#2-2-查看任务加载-工作日-时间段-呼叫情况" class="headerlink" title="2.2.查看任务加载,工作日,时间段,呼叫情况"></a>2.2.查看任务加载,工作日,时间段,呼叫情况</h5><ol>
<li>1.任务即是notify,但是任务在呼叫前任务加载,工作日,时间段都是在dbg_dbg01模块</li>
<li>2.查看任务呼叫情况:callnotify_callnotify01.log  </li>
<li>3.查看任务调用api模块:callnotify_callnotifyapi.log  </li>
<li>4.查看任务呼叫失败情况,没有数据插入到cti_cdr、ocm_result：查看callnotify_callnotifyfailsql.log  </li>
</ol>
<h4 id="3-ipcc对接其他server"><a href="#3-ipcc对接其他server" class="headerlink" title="3.ipcc对接其他server"></a>3.ipcc对接其他server</h4><p>参考:<a href="https://blog.csdn.net/gredn/article/details/40581871" target="_blank" rel="external">https://blog.csdn.net/gredn/article/details/40581871</a></p>
<h5 id="3-1-修改freeswitch配置"><a href="#3-1-修改freeswitch配置" class="headerlink" title="3.1 修改freeswitch配置"></a>3.1 修改freeswitch配置</h5><p>从平台架构我们知道,我们现在需要和外部第三方sipServer对接,首先需要打通各自的网络,然后就是配置相关的网管  </p>
<ol>
<li>1.进入freeswitch目录下freeswitch/conf/sip_profiles/external其中有外部网管模块。 拷贝存在的一个网关配置<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/62.png" alt="">  </li>
<li>2.修改gw3.xml中对接的外部sipServer地址和端口:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/63.png" alt=""> </li>
<li>3.重启freeswitch<br>进入freeswitch的bin目录停止fs:./freeswitch -stop<br>进入freeswitch的bin目录启动fs:./freeswitch -nc -nonat  </li>
</ol>
<h5 id="3-2-修改号码网管路由"><a href="#3-2-修改号码网管路由" class="headerlink" title="3.2 修改号码网管路由"></a>3.2 修改号码网管路由</h5><ol>
<li>1.修改cti_route表<br>打开数据库表cti_route配置主叫外显号码和网关对应的关系<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/05/64.png" alt=""> </li>
<li>2.重启fsg<br>进入/cc/bin目录下:执行:./fsg.sh restart  </li>
</ol>
<h5 id="3-3-使用抓包工具抓包"><a href="#3-3-使用抓包工具抓包" class="headerlink" title="3.3 使用抓包工具抓包"></a>3.3 使用抓包工具抓包</h5><p>对接完之后,如果电话不通,那么就需要使用wireshake进行网络抓包,分析包  </p>
<h4 id="4-ipcc对每个号码并发进行控制"><a href="#4-ipcc对每个号码并发进行控制" class="headerlink" title="4.ipcc对每个号码并发进行控制"></a>4.ipcc对每个号码并发进行控制</h4><p>在/cc/cfg/notify.cfg下的callnotify添加:examentline=1表明开启了号码并发设置<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/6.png" alt="">  </p>
<h4 id="5-ipcc配置空号检测"><a href="#5-ipcc配置空号检测" class="headerlink" title="5.ipcc配置空号检测"></a>5.ipcc配置空号检测</h4><h5 id="5-1-安装空号检测"><a href="#5-1-安装空号检测" class="headerlink" title="5.1 安装空号检测"></a>5.1 安装空号检测</h5><ol>
<li>1.首先正常安装并启用空号检测da2(安装数据库、程序)  </li>
<li>2.如果空号检测部署在一台服务器上，我们呼叫平台部署在多台服务器上，我们如何配置呢?  </li>
<li>3.查看/usr/local/freeswitch/conf下面文件:da2.json<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/7.png" alt="">  </li>
<li>4.重启freeswitch:进入freeswitch的bin目录:执行:./freeswitch -stop 再执行:./freeswitch -nc -nonat  </li>
<li>5.打开freeswitch客户端:<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./fs_cli -P 8031 -p testtest</div></pre></td></tr></table></figure>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/8.png" alt=""> </p>
<ol>
<li>6.在fs控制台客户端输入:da2 show<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/9.png" alt=""><br>出现上面问题说明成功,如果一直不成功检查对应数据库表  </li>
</ol>
<h5 id="5-2-添加新的授权"><a href="#5-2-添加新的授权" class="headerlink" title="5.2 添加新的授权"></a>5.2 添加新的授权</h5><p>部署新的话务平台节点时候需要添加新的授权,修改两个表:user,bill;<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/11/83.png" alt="">   </p>
<h4 id="6-ipcc中cdr关于服务"><a href="#6-ipcc中cdr关于服务" class="headerlink" title="6.ipcc中cdr关于服务"></a>6.ipcc中cdr关于服务</h4><ol>
<li>1.服务水平只对呼入而言的 呼出不用管  calltype=100 and dir=1  </li>
<li>2.starttime  connecttime和endtime 是整个电话的开始 接起和结束时间</li>
<li>3.workstarttime 是电话进入acd的时间  workconnect是坐席接起电话的时间 workendtime是坐席服务结束的时间 acmtime 在呼入的时候是坐席开始振铃时间（注意  在呼出的时候是用户振铃时间）</li>
<li>4.acmtime是服务水平的统计标志</li>
<li>5.用户呼叫系统的全部电话（呼入我们目前都要进入ivr ）：calltype&lt;300 and dir = 1 </li>
<li>6.坐席呼出用户的电话  calltype=100 || calltype=113||calltype=114  and dir=0</li>
<li>7.自动外呼呼出的电话   notifyid is not null</li>
<li>8.里面 connecttime  workconnecttime字段很重要 判断是否接通的依据</li>
<li>9.建议：现在数据除了cdr表外 通话数据 坐席数据 其实已经通过ice推送给ccms了、ccms能不能做一些文件存储 然后通过一些外部工具进行数据分析、毕竟cdr是生产上的 不能频繁访问、 ZeroC ICE提供一种打补丁方式，名为IcePatch2。基本功能就是通过ICE通讯将服务器上的最近软件部署到各个客户端中，这间接的实现了文件传输功能，</li>
</ol>
<h4 id="7-ipcc中任务呼叫失败原因"><a href="#7-ipcc中任务呼叫失败原因" class="headerlink" title="7.ipcc中任务呼叫失败原因"></a>7.ipcc中任务呼叫失败原因</h4><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/81.png" alt="">  </p>
<h4 id="8-ipcc中任务脚本通知"><a href="#8-ipcc中任务脚本通知" class="headerlink" title="8.ipcc中任务脚本通知"></a>8.ipcc中任务脚本通知</h4><p>通过shell脚本的iniwrite和ice不能并存,如果用ice需要把iniwrite改成iniwrite1或者其他<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/06/82.png" alt=""> </p>
<h4 id="9-ipcc中配置"><a href="#9-ipcc中配置" class="headerlink" title="9.ipcc中配置"></a>9.ipcc中配置</h4><p>ipcc各种配置请参考对应的doc文档。  </p>
<h3 id="2-空号检测模块搭建及录音库文件更新"><a href="#2-空号检测模块搭建及录音库文件更新" class="headerlink" title="2.空号检测模块搭建及录音库文件更新"></a>2.空号检测模块搭建及录音库文件更新</h3><p>注意:金服空号检测服务器由于私有云不能访问到外网,所以将空号检测license所在服务部署到了金服金融云。(金融云是连通公有云和私有云的桥梁)  </p>
<p>空号检测服务daserver是根据局端返回的录音文件:然后通过asr识别来返回信令结果:dropcause  </p>
<h4 id="2-1服务搭建"><a href="#2-1服务搭建" class="headerlink" title="2.1服务搭建"></a>2.1服务搭建</h4><ol>
<li>1.解压da.tar.gz数据库  </li>
<li>2.安装mysql<br>centos6<br>-yum install mysql-server<br>-service mysqld start<br>-chkconfig mysqld on   </li>
</ol>
<p>centos7<br>-yum install mariadb-server<br>-systemctl start mariadb.service<br>-systemctl enable mariadb.service   </p>
<ol>
<li><p>3.创建数据库da<br>mysqladmin -uroot -p create da  </p>
</li>
<li><p>4.导入数据到da<br>mysql -uroot -p da &lt; da.sql<br>生成的数据库和表如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/99.png" alt=""></p>
</li>
<li>5.执行machinecode获取机器码,发给cdevelop@qq.com申请授权码,写入 license.txt .<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/95.png" alt="">    </li>
<li><p>6.根据安装文档word版本,配置数据库和JSON  </p>
</li>
<li><p>7.启动daserver<br>临时启动: ./daserver<br>后台启动: nohup ./daserver &amp;  </p>
</li>
</ol>
<p>注意:启动出现 ./daserver: relocation error: ./libssl.so.10: symbol private_ossl_minimum_dh_bits, version libcrypto.so.10 not defined in file libcrypto.so.10 with link time reference<br>一般是系统已经有了其他版本的ssl,删除 本目录的 libssl.so.10 文件  </p>
<h4 id="2-2更新录音文件库"><a href="#2-2更新录音文件库" class="headerlink" title="2.2更新录音文件库"></a>2.2更新录音文件库</h4><p>电话在拨打过程中出现了运营商返回的错误信令:dropcause为480<br>通过查询da模块(空号检测模块)录制的录音知道:”您拨打的号码是非本地号码,请在拨打号码前加0” 我们知道空号检测模块的录音库中没有识别到此空号录音，所以我们需要更新录音库(使用da提供的win下的工具samplemgr,连接da所在license的库数据库da)，有时候我们是无法直接连接license所在的da数据，而只能连接测试数据库，所以我们需要在测试环境下操作，然后把对应的数据替换到生产库。  </p>
<h5 id="2-2-1更新da语音库"><a href="#2-2-1更新da语音库" class="headerlink" title="2.2.1更新da语音库"></a>2.2.1更新da语音库</h5><ol>
<li>1.打开samplemgr,连接对应的数据库<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/96.png" alt=""><br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/97.png" alt="">      </li>
<li><p>2.启动服务,输入key(key是da数据库中)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/100.png" alt=""><br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/98.png" alt=""><br>启动成功日志:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/101.png" alt="">  </p>
</li>
<li><p>3.添加录音库测试<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/102.png" alt=""><br>文件要求 8000hz 16位 单声道，文件名要是数字，比如 电话号码.wav 这样子。<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/103.png" alt=""><br>后续步骤按照samplemgr里面的文档:添加样本例子.docx  </p>
</li>
</ol>
<h5 id="2-2-2-测试环境da数据导入到生产环境"><a href="#2-2-2-测试环境da数据导入到生产环境" class="headerlink" title="2.2.2 测试环境da数据导入到生产环境"></a>2.2.2 测试环境da数据导入到生产环境</h5><p>注意:1.由于da表结构中字段类型是:blob所以我们不能使用SQLyog或者Navicat工具直接将表数据导出，经测试直接导出的数据通过source导入到生产环境时候会由于乱码导入报错。而只能直接在测试环境所在服务是使用mysqldump指令导出数据。  </p>
<h6 id="1-测试环境da数据导出"><a href="#1-测试环境da数据导出" class="headerlink" title="1.测试环境da数据导出"></a>1.测试环境da数据导出</h6><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/104.png" alt=""></p>
<ol>
<li>1.进入测试环境da数据库数据(以导出mfcc数据为例)<br>mysqldump -u <username> -p <dbname> &gt; /path/to/<em>*</em>.sql<br>我们直接输入:mysqldump -u root -p123456 da mfcc&gt;mfcc.sql 报错如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/105.png" alt=""><br>说明我们导出表数据时候不能直接输入密码。我们更换成如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/106.png" alt="">  <h6 id="2-生产环境da数据导入"><a href="#2-生产环境da数据导入" class="headerlink" title="2.生产环境da数据导入"></a>2.生产环境da数据导入</h6></dbname></username></li>
<li>1.连接生产环境数据库(注：如果连接不上时候加上-h 127.0.01参数)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/107.png" alt=""> </li>
<li>2.数据导入<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/108.png" alt="">  </li>
</ol>
<h6 id="3-启动da的license所在服务"><a href="#3-启动da的license所在服务" class="headerlink" title="3.启动da的license所在服务"></a>3.启动da的license所在服务</h6><p>从数据导入之后使用./daserver启用之后,大概到了下午4点11分左右,局端又返回许多480结果,然后查看da的录音<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/110.png" alt=""><br>听录音是没有识别到,于是进入freeswitch里面的log下的da.log打开后发现下午4点11分左右就不开始识别了:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/111.png" alt=""><br>查看daserver进程发现进程挂了,所以使用下面后太启动方式。  </p>
<ol>
<li>1.进入daserver所在目录下执行后台启动指令:<br>nohup ./daserver &amp;<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2019/08/109.png" alt="">  </li>
</ol>
<h4 id="10-定时备份日志"><a href="#10-定时备份日志" class="headerlink" title="10.定时备份日志"></a>10.定时备份日志</h4><ol>
<li><p>1.编写clearlog.sh  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">cd /cc/log/bak</div><div class="line">find /cc/bin/log -mtime +1 -type f -name &quot;log*.log&quot; -exec mv &#123;&#125; /cc/log/bak/. \;</div><div class="line">tar zcvf fslog$(date +&quot;%Y%m%d%H%M&quot;)tar.gz log*.log </div><div class="line">rm -f log*.log</div><div class="line">find /cc/log -mtime +1 -type f -name &quot;*.log&quot; -exec mv &#123;&#125; /cc/log/bak/. \;</div><div class="line">tar zcvf log$(date +&quot;%Y%m%d%H%M&quot;).log.tar.gz *.log </div><div class="line">rm -f *.log</div></pre></td></tr></table></figure>
</li>
<li><p>2.添加到系统定时任务中去<br>a.在root下执行 crontab -e<br>b.将0 0 <em> </em> *  /cc/bin/cleanlog.sh &gt; /dev/null 2&gt;&amp;1 放进去 保存退出。</p>
</li>
<li><p>3.运维查询每天日志的最小、最大拨打时间  </p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">SELECT MIN(starttime),MAX(starttime),SUBSTRING(starttime,1,10) FROM cti_cdr WHERE entid = 1308 GROUP BY SUBSTRING(starttime,1,10) ORDER BY starttime ASC;</div><div class="line">```  </div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">#### 11.停止掉空号检测</div><div class="line">  </div><div class="line">1.进入:/cc/freeswitch/conf;不是删除da2.json  </div><div class="line">2.注释掉:load mod_da2  </div><div class="line">进入:/cc/freeswitch/conf/autoload_configs找到文件:modules.conf.xml</div><div class="line">然后注释掉:  </div><div class="line">![](https://raw.githubusercontent.com/startshineye/img/master/2019/10/114.png)  </div><div class="line">3.fsg.cfg里面:注释掉:识别da2的注释掉</div><div class="line">![](https://raw.githubusercontent.com/startshineye/img/master/2019/10/116.png)</div><div class="line"></div><div class="line">#### 12.fs中注释掉影响通话质量的元素  </div><div class="line">1.conf/vars.xml里面的以下几行注释掉:</div></pre></td></tr></table></figure>
<!--RECORD_SILENCE_THRESHOLD vad调节阀值,声音能量，配置太小旁边人说话会被当成说话800 -->
  <!--X-PRE-PROCESS cmd="set" data="RECORD_SILENCE_THRESHOLD=800"/->

  <!-- EOS_SILENCE_THRESHOLD 没说话的静音阈值200-->
  <!--X-PRE-PROCESS cmd="set" data="EOS_SILENCE_THRESHOLD=200"/-->
  <!--RECORD_FINAL_TIMEOUT_MS 停顿超时，说话结束-->
  <!--X-PRE-PROCESS cmd="set" data="RECORD_FINAL_TIMEOUT_MS=600"/-->
 <!--X-PRE-PROCESS cmd="set" data="RECORD_STEREO=true"/-->
<p>```</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2019/05/14/ipcc-1-ipcc整体架构/" class="archive-article-date">
  	<time datetime="2019-05-14T11:36:04.000Z" itemprop="datePublished"><i class="icon-clock"></i>2019-05-14</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ipcc/">ipcc</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2019/06/24/ElasticStack-1-前言/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          ElasticStack-1-前言
        
      </div>
    </a>
  
  
    <a href="/2019/04/18/SpringCloud-8-Zuul综合使用/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">SpringCloud-8-Zuul综合使用</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>




<div class="share_addthis share_jia">
  <div class="sharing addthis_toolbox share">
  	<span class="jiathis_txt">Share to: &nbsp; </span>
    <a class="addthis_button_facebook_like"></a>
    <a class="addthis_button_tweet"></a>
    <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-560c64c35486b3d4" async="async"></script>
</div>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="ipcc-1-ipcc整体架构" data-title="ipcc-1-ipcc整体架构" data-url="https://github.com/startshineye/2019/05/14/ipcc-1-ipcc整体架构/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>





      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/ElasticStack/" style="font-size: 10px;">ElasticStack</a> <a href="/tags/SpringCloud/" style="font-size: 20px;">SpringCloud</a> <a href="/tags/acdgate/" style="font-size: 10px;">acdgate</a> <a href="/tags/ipcc/" style="font-size: 16.67px;">ipcc</a> <a href="/tags/problem/" style="font-size: 10px;">problem</a> <a href="/tags/work/" style="font-size: 13.33px;">work</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>