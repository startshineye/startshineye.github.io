<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta property="og:type" content="website">
<meta property="og:title" content="Startshineye的博客">
<meta property="og:url" content="https://github.com/startshineye/page/18/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Startshineye的博客">
<meta name="twitter:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-vue-15-过渡-CSS过渡" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/vue-15-过渡-CSS过渡/">vue(15)-过渡-CSS过渡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li>过渡系统是Vue.js 为DOM 动画效果提供的一个特性，它能在元素从DOM 中插入或移除时触发你的CSS 过渡（transition）和动画（animation），也就是说在DOM 元素发生变化时为其添加特定的class 类名，从而产生过渡效果。  </li>
<li>除了CSS 过渡外，Vue.js 的过渡系统也支持javascript 的过渡，通过暴露过渡系统的钩子函数，我们可以在DOM 变化的特定时机对其进行属性的操作，产生动画效果。  </li>
</ol>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h5 id="css过渡"><a href="#css过渡" class="headerlink" title="css过渡"></a>css过渡</h5><h6 id="1-css过渡用法"><a href="#1-css过渡用法" class="headerlink" title="1.css过渡用法"></a>1.css过渡用法</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;div v-if=&quot;show&quot; transition=&quot;my-startup&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>首先在模板中用transition 绑定一个DOM 元素，并且使用v-if 指令使元素先处于未被<br>编译状态。然后在控制台内手动调用vm.show = true, 就可以看到DOM 元素最后输出为：  </p>
<pre><code>&lt;div class=&quot;my-startup-transition&quot;&gt;&lt;/div&gt;  
</code></pre><p>我们可以看到在DOM 元素完成编译后，过渡系统自动给元素添加了一个my-startuptransition<br>的class 类名。那么为了让这个效果更明显一点，还可以提前给这个类名添加一点<br>CSS 样式：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"> &lt;style&gt;</div><div class="line">    .my-startup-transition&#123;</div><div class="line">        transition: all 1s ease;</div><div class="line">        width:100px;</div><div class="line">        height: 100px;</div><div class="line">        background: rosybrown;</div><div class="line">        opacity: 1;</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div><div class="line"></div><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;div v-if=&quot;show&quot; transition=&quot;my-startup&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/44.png" alt=""></p>
<ol>
<li>此时再重新刷新并手动运行vm.show = true，发现最终样式效果是加载上去了，但并没有出现transition 的效果。  </li>
<li>这是由于在编译v-if 后，div 直接挂载到body 并添加mystartup-<br>transition 类名这两个过程中浏览器仅进行了一次重绘，这对于div 来说并没有产生属性的更新，所以没有执行css transition 的效果。</li>
<li>为了解决这个问题，Vue.js 的过渡系统给<br>元素插入及移除时分别添加了2 个类名：<em>-enter 和</em>-leave，* 即为transition 绑定的字符串，本例中即为my-startup  </li>
</ol>
<p>所以，在上述例子中，我们还需要添加两个类名样式，即my-startup-<br>enter, my-startup-leave:</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">.my-startup-transition&#123;</div><div class="line">       transition: all 1s ease;</div><div class="line">       width:100px;</div><div class="line">       height: 100px;</div><div class="line">       background: rosybrown;</div><div class="line">       opacity: 1;</div><div class="line"> &#125;</div><div class="line">  .my-startup-enter,.my-startup-leave&#123;</div><div class="line">      height: 0px;</div><div class="line">      opacity: 0;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</code></pre><p>整体代码:  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;!--css--&gt;</div><div class="line">.my-startup-transition&#123;</div><div class="line">       transition: all 1s ease;</div><div class="line">       width:100px;</div><div class="line">       height: 100px;</div><div class="line">       background: rosybrown;</div><div class="line">       opacity: 1;</div><div class="line">   &#125;</div><div class="line">   .my-startup-enter,.my-startup-leave&#123;</div><div class="line">       height: 0px;</div><div class="line">       opacity: 0;</div><div class="line">   &#125;</div><div class="line"></div><div class="line"> &lt;!--html--&gt;</div><div class="line">  &lt;div id=&quot;app&quot;&gt;</div><div class="line">    &lt;div v-if=&quot;show&quot; transition=&quot;my-startup&quot;&gt;&lt;/div&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line"></div><div class="line"> &lt;!--js--&gt;</div><div class="line"> var vm = new Vue(&#123;</div><div class="line">   el:&quot;#app&quot;,</div><div class="line">   data:&#123;</div><div class="line">       show:false</div><div class="line">   &#125;</div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
</code></pre><p>效果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/45.gif" alt=""></p>
<p>此时再重复之前的操作，就可以看到过渡效果了。需要注意的是，这两个类名的优先级需要高于.my-startup-transition，不然被my-startup-transition 覆盖后就失效了。</p>
<p>同样，我们也可以通过CSS 的animation 属性来实现过渡的效果，例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">&lt;!--css--&gt;</div><div class="line">.my-animation-transition&#123;</div><div class="line">      animation: increase 1s ease 0s 1;</div><div class="line">      width:100px;</div><div class="line">      height:100px;</div><div class="line">      background: bisque;</div><div class="line">  &#125;</div><div class="line">   .my-animation-enter,.my-animation-leave&#123;</div><div class="line">       height: 0px;</div><div class="line">   &#125;</div><div class="line">    </div><div class="line">  @keyframes increase &#123;</div><div class="line">        from&#123;height: 0px;&#125;</div><div class="line">        to&#123;height: 100px;&#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&lt;!--html--&gt;</div><div class="line"> &lt;div id=&quot;app&quot;&gt;</div><div class="line">  &lt;div v-if=&quot;animation&quot; transition=&quot;my-animation&quot;&gt;animation&lt;/div&gt;</div><div class="line"> &lt;/div&gt;</div><div class="line"></div><div class="line">&lt;!--js--&gt;</div><div class="line"> var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        animation:true</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/46.gif" alt="">  </p>
<p>除了直接在元素上添加transition=”name” 外,Vue.js也支持动态绑定CSS名称，可用于元素需要多个过渡效果的场景。例如：</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;div v-if=&quot;show&quot; v-bind:transition=&quot;transitionName&quot;&gt;&lt;/div&gt;</div><div class="line">   &lt;div v-if=&quot;show&quot; :transition=&quot;transitionName&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;script&gt;</div><div class="line"> var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        show:false,</div><div class="line">        transitionName:&apos;fade&apos;</div><div class="line">     &#125;</div><div class="line">  &#125;);</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</code></pre><p>Vue.js 本身并不提供内置的过渡CSS 样式，仅仅是提供了过渡需要使用的样式的加载或移除时机，这样更便于我们灵活地按需去设计过渡样式。  </p>
<h6 id="2-css过渡钩子函数"><a href="#2-css过渡钩子函数" class="headerlink" title="2.css过渡钩子函数"></a>2.css过渡钩子函数</h6><p>Vue.js提供了在插入或DOM元素时类名变化的钩子函数,可以通过</p>
<pre><code>Vue.transition(&apos;name&apos;,{}) 
</code></pre><p>的方式来执行具体的函数操作。例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&lt;!--html--&gt;</div><div class="line">&lt;div id=&quot;app&quot;&gt;</div><div class="line">   &lt;div v-if=&quot;show&quot; transition=&quot;my-startup&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;!--js--&gt;</div><div class="line">Vue.transition(&apos;my-startup&apos;,&#123;</div><div class="line">    beforeEnter:function(el)&#123;</div><div class="line">        console.log(&apos;beforeEnter&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    enter:function(el)&#123;</div><div class="line">        console.log(&apos;enter&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    afterEnter:function(el)&#123;</div><div class="line">        console.log(&apos;afterEnter&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    enterCancelled:function(el)&#123;</div><div class="line">       console.log(&apos;enterCancelled&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    beforeLeave:function(el)&#123;</div><div class="line">        console.log(&apos;beforeLeave&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    leave:function(el)&#123;</div><div class="line">        console.log(&apos;leave&apos;,el.className);</div><div class="line">    &#125;,</div><div class="line">    afterLeave: function (el) &#123;</div><div class="line">        console.log(&apos;afterLeave&apos;, el.className);</div><div class="line">    &#125;,</div><div class="line">    leaveCancelled: function (el) &#123;</div><div class="line">        console.log(&apos;leaveCancelled&apos;, el.className);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        show:false</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>效果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/47.png" alt=""><br>这样，我们能很清楚地看到钩子函数执行的顺序以及元素类名的变化。同样的，还可以<br>再次更改vm.show 的值置为false，结果如下：<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/48.png" alt="">  </p>
<p>由于元素在使用CSS 的transition 和animation 时，系统的流程不完全一样。所以先以<br>transition 为例,总结下过渡系统的流程。  </p>
<p>当vm.show=true时:<br>1.调用beforeEnter函数。<br>2.添加enter类名到元素上。<br>3.将元素插入DOM中。<br>4.调用enter 函数。<br>5.强制reflow一次,然后移除enter类名，触发过渡效果。<br>6.如果此时元素被删除,则触发enterCancelled函数。<br>7.监听transitionend事件,过渡结束后调用afterEnter函数。  </p>
<p>当vm.show=false时<br>1.调用beforeLeave函数。<br>2.添加v-leave 类名，触发过渡效果。<br>3.调用leave 函数。<br>4.如果此时元素被删除，则触发leaveCancelled函数。<br>5.监听transitionend事件，删除元素及*-leave类名。<br>6.调用afterLeave函数。  </p>
<p>如果使用animation 作为过渡的话，在DOM 插入时，*-enter 类名不会立即被删除，而<br>是在animationend 事件触发式删除。  </p>
<p>另外，enter 和leave 函数都有第二个可选的回调参数，用于控制过渡何时结束，而不是<br>监听transitionend 和animationend 事件，例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">    my-done-transition &#123;</div><div class="line">     transition: all 2s ease;</div><div class="line">     width: 100px; height: 100px;</div><div class="line">     background: black;</div><div class="line">     opacity: 1;</div><div class="line">    &#125;</div><div class="line">   .my-done-enter, .my-done-leave&#123;</div><div class="line">      height: 0px;</div><div class="line">      opacity: 0;</div><div class="line">   &#125;</div><div class="line"></div><div class="line">Vue.transition(&apos;my-done&apos;, &#123;</div><div class="line">　 enter: function (el, done) &#123;</div><div class="line">　　　this.enterTime = new Date();</div><div class="line">　　　setTimeout(done, 500);</div><div class="line">　 &#125;,</div><div class="line">　 afterEnter: function (el) &#123;</div><div class="line">　　　console.log(&apos;afterEnter&apos;, new Date() - this.enterTime);</div><div class="line">　 &#125;</div><div class="line">&#125;)</div><div class="line">var vm = new Vue(&#123;</div><div class="line">　 el : &apos;#app&apos;,</div><div class="line">　 data: &#123;</div><div class="line">　　　done : false</div><div class="line">　 &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/49.png" alt="">  </p>
<h5 id="3-显示声明过渡类型"><a href="#3-显示声明过渡类型" class="headerlink" title="3.显示声明过渡类型"></a>3.显示声明过渡类型</h5><p>Vue.js 可以指定过渡元素监听的结束事件的类型， 例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.transition(&apos;done-type&apos;, &#123;</div><div class="line"> type: &apos;animation&apos;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</code></pre><p>此时Vue.js 就只监听元素的animationend 事件，避免元素上还存在transition 时导致<br>的结束事件触发不一致。  </p>
<h5 id="4-自定义过渡类名"><a href="#4-自定义过渡类名" class="headerlink" title="4.自定义过渡类名"></a>4.自定义过渡类名</h5><p>除了使用默认的类名<em>-enter, </em>-leave 外，Vue.js 也允许我们自定义过渡类名，例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">    Vue.transition(&apos;my-startup&apos;, &#123;</div><div class="line">      enterClass: &apos;fadeIn&apos;,</div><div class="line">      leaveClass: &apos;fadeOut&apos;</div><div class="line">    &#125;)</div><div class="line">    ```  </div><div class="line"></div><div class="line">我们可以通过上述钩子函数的例子，观测元素的类名变化：</div><div class="line"></div><div class="line">![](https://raw.githubusercontent.com/startshineye/img/master/2017/10/50.png)</div><div class="line"></div><div class="line"></div><div class="line">Vue.js官方推荐了一个CSS动画库,animate.css,配合自定义过渡类名使用,可以达</div><div class="line">到非常不错的效果。只需要引入一个CSS 文件，http://cdn.bootcss.com/animate.css/3.5.2/animate.min.css，就可以使用里面的预设动画。例如：</div></pre></td></tr></table></figure>

&lt;!--引入--&gt;
&lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;
&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../css/animate.css&quot; media=&quot;all&quot;&gt;

&lt;!--html--&gt;
&lt;div id=&quot;app&quot;&gt;
   &lt;div v-if=&quot;animateShow&quot; class = &quot;animated&quot; transition=&quot;bounce&quot;&gt;bounce effect&lt;/div&gt;
&lt;/div&gt;

&lt;!--js--&gt;
 Vue.transition(&apos;bounce&apos;,{
    enterClass:&apos;bounceIn&apos;,
    leaveClass:&apos;bounceOut&apos;
});
var vm = new Vue({
    el:&quot;#app&quot;,
    data:{
        animateShow:false
    }
});
```
</code></pre><p>效果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/51.gif" alt=""></p>
<p>在使用animate.css 时，需要先给元素附上animated 类名，然后再添加预设的动效类名，<br>例如上例中的bounceIn、bounceOut，这样就能看到动画效果。这个库提供了多种强调展示<br>（例如弹性、抖动）、渐入渐出、翻转、旋转、放大缩小等效果。所有的效果可以访问官方网<br>址<a href="https://daneden.github.io/animate.css/" target="_blank" rel="external">https://daneden.github.io/animate.css/</a> 在线观看。</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/30/vue-15-过渡-CSS过渡/" class="archive-article-date">
  	<time datetime="2017-10-30T14:52:51.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-30</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-14-过滤器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/vue-14-过滤器/">vue(14)-过滤器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/30/vue-14-过滤器/" class="archive-article-date">
  	<time datetime="2017-10-30T14:24:06.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-30</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-13-指令-Vue2-0中指令变化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/vue-13-指令-Vue2-0中指令变化/">vue(13)-指令-Vue2.0中指令变化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/30/vue-13-指令-Vue2-0中指令变化/" class="archive-article-date">
  	<time datetime="2017-10-30T14:22:50.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-30</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-12-指令-指令的高级选项" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/vue-12-指令-指令的高级选项/">vue(12)-指令-指令的高级选项</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/30/vue-12-指令-指令的高级选项/" class="archive-article-date">
  	<time datetime="2017-10-30T14:22:13.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-30</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-11-指令-自定义指令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/vue-11-指令-自定义指令/">vue(11)-指令-自定义指令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li>除了内置指令外，Vue.js 也提供了方法让我们可以注册自定义指令，以便封装对DOM元素的重的处理行为，提高代码复用率。</li>
<li>本篇主要说明了如何创建、注册自定义指令，以及讲述指令的相关属性钩子函数，更深一步地了解指令在Vue.js 中起到的作用。</li>
</ol>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h5 id="1-指令的注册"><a href="#1-指令的注册" class="headerlink" title="1.指令的注册"></a>1.指令的注册</h5><p>1.我们可以通过Vue.directive(id, definition) 方法注册一个全局自定义指令，接收参数id和定义对象。id 是指令的唯一标识，定义对象则是指令的相关属性及钩子函数。  </p>
<p>2.全局指令:    </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Vue.directive(‘global-directive’, definition); // 我们暂时只注册了这个指令，并没有赋予这个指令任何功能。</div></pre></td></tr></table></figure>
</code></pre><p>我们可以在模板中这么使用：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-global-directive&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><p>3.自定义指令:<br>而除了全局注册指令外，我们也可以通过在组件的directives 选项注册一个局部的自定义指令。</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var comp = Vue.extend(&#123;</div><div class="line"> directives : &#123;</div><div class="line">   &apos;localDirective&apos; : &#123;&#125;　// 可以采用驼峰式命名</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>该指令就只能在当前组件内通过v-local-directive 的方式调用，而无法被其他组件调用。  </p>
<h5 id="2-指令的定义对象"><a href="#2-指令的定义对象" class="headerlink" title="2.指令的定义对象"></a>2.指令的定义对象</h5><p>我们在注册指令的同时，可以传入definition 定义对象，对指令赋予一些特殊的功能。这个定义对象主要包含三个钩子函数：bind、update和unbind。</p>
<p>bind:只被调用一次，在指令第一次绑定到元素上时调用。<br>update ：指令在bind之后以初始值为参数进行第一次调用,之后每次当绑定值发生变化时调用,update接收到的参数为newValue 和oldValue<br>unbind ：指令从元素上解绑时调用，只调用一次。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">  &lt;div id=&quot;app&quot;&gt;</div><div class="line">    &lt;div v-if=&quot;isExist&quot; v-my-directive=&quot;param&quot;&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">Vue.directive(&apos;my-directive&apos;,&#123;</div><div class="line">    bind:function()&#123;</div><div class="line">      console.log(&apos;bind&apos;,arguments);</div><div class="line">    &#125;,</div><div class="line">    update:function(newValue,oldValue)&#123;</div><div class="line">      console.log(&apos;updata&apos;,newValue,oldValue);</div><div class="line">    &#125;,</div><div class="line">    unbind:function()&#123;</div><div class="line">        console.log(&apos;unbind&apos;,arguments);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        param:&apos;first&apos;,</div><div class="line">        isExist:true</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>在控制台里先后输入vm.param =’second’ 和vm.isExist = false，整体输出如下：<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/41.png" alt="">  </p>
<p>另外，如果我们只需要使用update 函数时，可以直接传入一个函数代替定义对象：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Vue.directive(&apos;my-directive&apos;, function(value) &#123;</div><div class="line"> // 该函数即为update 函数</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/42.png" alt="">  </p>
<p>上述例子中，可以使用my-directive 指令绑定的值是data 中的param 属性。也可以直<br>接绑定字符串常量，或使用字面修饰符，但这样的话需要注意update 方法将只调用一次，因<br>为普通字符串不能响应数据变化。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div v-my-directive=&quot;constant string&quot;/&gt;&lt;/div&gt;　// -&gt; value 为undefined，因为data 中没有对应的属性</div><div class="line">   </div><div class="line">&lt;div v-my-direcitve=&quot;&apos;constant string&apos;&quot;&gt;&lt;/div&gt; // -&gt; value 为constant string，绑定字符串需要加单引号</div><div class="line">  </div><div class="line">&lt;div v-my-directive.literal=&quot;constant string&quot;&gt;&lt;/div&gt; // -&gt; value 为constantstring，利用字面修饰符后无需使用单引号</div></pre></td></tr></table></figure>
</code></pre><p>除了字符串外，指令也能接受对象字面量或任意合法的JavaScript 表达式。例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;div v-my-directive=&quot;&#123; title : &apos;Vue.js&apos;, author : &apos;You&apos;&#125;&quot; &gt;&lt;/div&gt;</div><div class="line">&lt;div v-my-directive=&quot;isExist ? &apos;yes&apos; : &apos;no&apos;&quot; &gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><p>注意此时对象字面量不需要用单引号括起来，这和字符串常量不一样。  </p>
<h5 id="3-指令实例属性"><a href="#3-指令实例属性" class="headerlink" title="3.指令实例属性"></a>3.指令实例属性</h5><p>除了了解指令的生命周期外，还需要知道指令中能调用的相关属性，以便我们对相关<br>DOM 进行操作。在指令的钩子函数内，可以通过this 来调用指令实例。<br>el:指令绑定元素<br>vm:指令的上下文ViewModel，可以为new Vue() 的实例，也可以为组件实例。<br>expression:指令的表达式，不包括参数和过滤器。<br>arg:指令的参数。<br>name:指令的名字,不包括v-前缀。<br>modifiers:一个对象,包括指令的修饰符。<br>description:一个对象,包括指令的解析结果。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"> &lt;div v-my-msg:console.log=&quot;content&quot;&gt;&lt;/div&gt;</div><div class="line"> Vue.directive(&apos;my-msg&apos;,&#123;</div><div class="line">    bind:function()&#123;</div><div class="line">      console.log(&apos;bind&apos;,arguments);</div><div class="line">      console.log(&apos;el&apos;,this.el);</div><div class="line">      console.log(&apos;name&apos;,this.name);</div><div class="line">      console.log(&apos;vm&apos;,this.vm);</div><div class="line">      console.log(&apos;expression&apos;, this.expression);</div><div class="line">      console.log(&apos;arg&apos;, this.arg);</div><div class="line">      console.log(&apos;modifiers&apos;,this.modifiers);</div><div class="line">      console.log(&apos;descriptor&apos;, this.descriptor);</div><div class="line">    &#125;,</div><div class="line">    update:function(newValue,oldValue)&#123;</div><div class="line">        var keys = Object.keys(this.modifiers);</div><div class="line">        window[this.arg][keys[0]](newValue);</div><div class="line">    &#125;,</div><div class="line">    unbind:function()&#123;</div><div class="line">        console.log(&apos;unbind&apos;,arguments);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">       content:&apos;there is the content&apos;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/43.png" alt="">  </p>
<h5 id="4-元素指令"><a href="#4-元素指令" class="headerlink" title="4.元素指令"></a>4.元素指令</h5><p>元素指令是Vue.js的一种特殊指令，普通指令需要绑定在某个具体的DOM 元素上，但元素指令可以单独存在，从使用方式上看更像是一个组件，但本身内部的实例属性和钩子函数是和指令一致的。例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;div v-my-directive&gt;&lt;/div&gt; // -&gt; 普通指令使用方式</div><div class="line">&lt;my-directive&gt;&lt;/my-directive&gt; // -&gt; 元素指令使用方式</div></pre></td></tr></table></figure>
</code></pre><p>元素指令的注册方式和普通指令类似，也有全局注册和局部注册两种。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Vue.elementDirective(&apos;my-ele-directive&apos;) // 全局注册方式</div><div class="line">var Comp = Vue.extend(&#123;　 // 局部注册，仅限该组件内使用</div><div class="line">   … // 省略了其他参数</div><div class="line">  elementDirectives : &#123;</div><div class="line">      &apos;eleDirective&apos; : &#123;&#125;</div><div class="line">  &#125;</div><div class="line"> &#125;);</div><div class="line"></div><div class="line">Vue.component(&apos;comp&apos;, Comp);</div></pre></td></tr></table></figure>
</code></pre><ol>
<li>元素指令不能接受参数或表达式，但可以读取元素特性从而决定行为。而且当编译过程<br>中遇到一个元素指令时，Vue.js 将忽略该元素及其子元素，只有元素指令本身才可以操作该元<br>素及其子元素。</li>
<li>Vue.js 2.0 中取消了这个特性，推荐使用组件来实现需要的业务。</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/30/vue-11-指令-自定义指令/" class="archive-article-date">
  	<time datetime="2017-10-30T11:47:06.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-30</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-10-指令-内置指令" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/vue-10-指令-内置指令/">vue(10)-指令-内置指令</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li>指令是Vue.js 中一个重要的特性，提供了一种机制将数据的变化映射为DOM 行为。</li>
<li><p>那什么叫数据的变化映射为DOM 行为？前文中阐述过Vue.js 是通过数据驱动的，所以我们不会直接去修改DOM 结构，不会出现类似于</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;ul&apos;).append(&apos;&lt;li&gt;one&lt;/li&gt;&apos;)</div></pre></td></tr></table></figure>
</li>
</ol>
<p>这样的操作。</p>
<ol>
<li>当数据变化时，指令会依据设定好的操作对DOM进行修改，这样就可以只关注数据的变化，而不用去管理DOM 的变化和状态，使得逻辑更加清晰，可维护性更好。</li>
</ol>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><p>本节主要介绍部分常见指令的使用及场景以及自定义指令的开发和指令相关的参数。  </p>
<h5 id="1-内置指令"><a href="#1-内置指令" class="headerlink" title="1.内置指令"></a>1.内置指令</h5><h6 id="1-1-v-bind"><a href="#1-1-v-bind" class="headerlink" title="1.1 v-bind"></a>1.1 v-bind</h6><p>v-bind 主要用于动态绑定DOM 元素属性（attribute），即元素属性实际的值是由vm<br>实例中的data属性提供的,例如:  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;img v-bind:src=&quot;avatar&quot;&gt;//等同于&lt;img :src=&quot;avatar&quot;&gt;</div><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        avatar:&apos;../imgs/GIF.gif&apos;,</div><div class="line">        msg:&quot;Hello world&quot;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>v-bind 可以简写为：，上述例子即可简写为:</p>
<pre><code>&lt;img :src=&apos;avatar&apos; /&gt;。
</code></pre><h6 id="1-2-v-model"><a href="#1-2-v-model" class="headerlink" title="1.2 v-model"></a>1.2 v-model</h6><p>该指令主要用于input、select、textarea 标签中，具有lazy、number、debounce（2.0 废除）、trim（2.0 新增）这些修饰符。</p>
<h6 id="1-3-v-if-v-else-v-show"><a href="#1-3-v-if-v-else-v-show" class="headerlink" title="1.3 v-if/v-else/v-show"></a>1.3 v-if/v-else/v-show</h6><ol>
<li>v-if/v-else/v-show 这三个指令主要用于根据条件展示对应的模板内容  </li>
<li>v-if 和v-show 的主要区别就在于，v-if 在条件为false 的情况下并不进行模板的编译，而v-show 则会在模板编译好之后将元素隐藏<br>掉。</li>
<li>v-if 的切换消耗要比v-show 高，但初始条件为false 的情况下，v-if 的初始渲染要<br>稍快。</li>
</ol>
<h6 id="1-4-v-for"><a href="#1-4-v-for" class="headerlink" title="1.4 v-for"></a>1.4 v-for</h6><p>v-for 也是用于模板渲染的指令，前面已经叙述。  </p>
<pre><code>&lt;ul&gt;
 &lt;li v-for=&apos;(index, item) in items&apos;&gt;
 &lt;p&gt;{{ item.name }}&lt;/p&gt;
  …..
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre><p>v-for 指令用法在Vue.js 2.0 中做了些细微的调整，大致包含以下几个方面：<br>1．参数顺序变化<br>当包含参数index 或key 时，对象参数修改为（item, index）或（value, key），这样<br>与JS Array 对象的新方法forEach 和map，以及一些对象迭代器（例如lodash）的参数能保<br>持一致。<br>2．v-bind:key<br>属性track-by 被v-bind ：key 代替，<div v-for="item in items" tranck-by="id"> 需要改写成<div v-for="item in items" v-bind:key="item.id">。<br>３．n in 10<br>v-for=”n in 10” 中的n 由原来的0 ～ 9 迭代变成1 ～ 10 迭代。  </div></div></p>
<h6 id="1-5-v-on"><a href="#1-5-v-on" class="headerlink" title="1.5 v-on"></a>1.5 v-on</h6><p>v-on 指令主要用于事件绑定<br>修饰符包括.stop、.prevent、.capture、.self 以及指定按键.{</p>
<pre><code>keyCode|keyAlias}。
</code></pre><p>在Vue.js 2.0 中，在组件上使用v-on 指令只监听自定义事件，即使用$emit 触发的<br>事件；如果要监听原生事件，需要使用修饰符.native，例如<my-component v-on:click.="" native="onClick"></my-component>。</p>
<h6 id="1-6-v-text"><a href="#1-6-v-text" class="headerlink" title="1.6 v-text"></a>1.6 v-text</h6><p>v-text，参数类型为String，作用是更新元素的textContent。</p>
<pre><code>{{}} 
</code></pre><p>文本插值本身也会被编译成textNode 的一个v-text 指令。而与直接使用</p>
<pre><code>{{}} 
</code></pre><p>不同的是，v-text 需要绑定在某个元素上，能避免未编译前的闪现问题。</p>
<pre><code>&lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;
</code></pre><p>如果直接使用</p>
<pre><code>&lt;span&gt;{{msg}}&lt;/span&gt;
</code></pre><p>在生命周期beforeCompile期间，此刻msg数据尚未编译至</p>
<pre><code>{{msg}} 
</code></pre><p>中，用户能看到一瞬间的</p>
<pre><code>{{msg}}
</code></pre><p>然后闪现为There is a message,而用v-text 的话则不会有这个问题<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/38.png" alt=""></p>
<h6 id="1-7-v-HTML"><a href="#1-7-v-HTML" class="headerlink" title="1.7 v-HTML"></a>1.7 v-HTML</h6><p>v-HTML, 参数类型为String， 作用为更新元素的innerHTML，接受的字符串不会进行<br>编译等操作，按普通HTML 处理。同v-text 类似，</p>
<pre><code>{{{}}} 
</code></pre><p>插值也会编译为节点的v-HTML指令,v-HTML也需要绑定在某个元素上且能避免编译前闪现问题。例如：</p>
<pre><code>&lt;div&gt;{{{HTML}}}&lt;/div&gt;
&lt;div v-HTML=&quot;HTML&quot;&gt;&lt;/div&gt;
</code></pre><h6 id="1-8-v-el"><a href="#1-8-v-el" class="headerlink" title="1.8 v-el"></a>1.8 v-el</h6><p>v-el指令为DOM元素注册了一个索引，使得我们可以直接访问DOM元素。语法上说，<br>可以通过所属实例的$els属性调用。例如：</p>
<pre><code>&lt;div v-el:demo&gt;there is a el demo&lt;/div&gt;
vm.$els.demo.innerText // -&gt; there is a el demo
</code></pre><p>或者在vm 内部通过this 进行调用。<br>另外，由于HMTL 不区分大小写，在v-el 中如果使用了驼峰式命名，系统会自动转成<br>小写。但可以使用“-”来连接你期望大写的字母。例如：  </p>
<pre><code>&lt;div v-el:camelCase&gt;There is a camelcase&lt;/div&gt;
&lt;div v-el:camel-case&gt;There is a camelCase&lt;/div&gt;
vm.$els.camelcase.innerText // -&gt; There is a camelcase
vm.$els.camelCase.innerText // -&gt; There is a camelCase
</code></pre><h6 id="1-9-v-ref"><a href="#1-9-v-ref" class="headerlink" title="1.9 v-ref"></a>1.9 v-ref</h6><p>v-ref 指令与v-el 类似，只不过v-ref 作用于子组件上，实例可以通过$refs 访问子组<br>件。命名方式也类似，想使用驼峰式命名的话用“-”来做连接。例如：  </p>
<pre><code>&lt;message v-ref:title content=&quot;title&quot;&gt;&lt;/message&gt;
&lt;message v-ref:sub-title content=&quot;subTitle&quot;&gt;&lt;/message&gt;
var Message = Vue.extend({
   props : [&apos;content&apos;],
   template : &apos;&lt;h1&gt;{{content}}&lt;/h1&gt;&apos;
});
Vue.component(&apos;message&apos;, Message);
</code></pre><p>我们最终将vm.$refs.title 和vm.$refs.subTitle 用console.log 的方式打印到控制台中，结果为：<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/39.png" alt="">  </p>
<h6 id="1-10-v-pre"><a href="#1-10-v-pre" class="headerlink" title="1.10 v-pre"></a>1.10 v-pre</h6><p>v-pre 指令相对简单，就是跳过编译这个元素和子元素，显示原始的</p>
<pre><code>{{}}
</code></pre><p>Mustache 标签，用来减少编译时间。例如：</p>
<pre><code>&lt;div v-pre&gt;{{ uncompiled}}&lt;/div&gt;
var vm = new Vue({
　 el : &apos;#app&apos;,
　 data: {
　　 uncompiled : &apos;Thers is an uncompiled element&apos;
　 }
});
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/40.png" alt="">   </p>
<h6 id="1-11-v-cloak"><a href="#1-11-v-cloak" class="headerlink" title="1.11 v-cloak"></a>1.11 v-cloak</h6><p>v-cloak 指令相当于在元素上添加了一个[v-cloak] 的属性，直到关联的实例结束编译。<br>官方推荐可以和css 规则</p>
<pre><code>[v-cloak]{ display :none }
</code></pre><p> 一起使用，可以隐藏未编译的Mustache标签直到实例准备完毕。例如：  </p>
<pre><code>&lt;div v-cloak&gt;{{ msg }}&lt;/div&gt;
</code></pre><h6 id="1-12-v-once"><a href="#1-12-v-once" class="headerlink" title="1.12 v-once"></a>1.12 v-once</h6><p>v-once 指令是Vue.js 2.0 中新增的内置指令，用于标明元素或组件只渲染一次，即使随<br>后发生绑定数据的变化或更新，该元素或组件及包含的子元素都不会再次被编译和渲染。这样<br>就相当于我们明确标注了这些元素不需要被更新，所以v-once 的作用是最大程度地提升了更<br>新行为中页面的性能，可以略过一些明确不需要变化的步骤。使用方式如下：  </p>
<pre><code>&lt;span v-once&gt;{{msg}}&lt;/span&gt;
&lt;my-component v-once :msg=&apos;msg&apos;&gt;&lt;/my-component&gt;
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/29/vue-10-指令-内置指令/" class="archive-article-date">
  	<time datetime="2017-10-29T08:16:46.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-29</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-9-Vue-extend" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/vue-9-Vue-extend/">vue(9)-Vue.extend()</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>组件化开发也是Vue.js 中非常重要的一个特性，我们可以将一个页面看成一个大的根组<br>件，里面包含的元素就是不同的子组件，子组件也可以在不同的根组件里被调用。在上述例子<br>中，可以看到在一个页面中通常会声明一个Vue 的实例new Vue({}) 作为根组件，那么如何<br>生成可被重复使用的子组件呢？ Vue.js 提供了Vue.extend(options) 方法，创建基础Vue 构<br>造器的“子类”，参数options 对象和直接声明Vue 实例参数对象基本一致，使用方法如下：</p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var Child = Vue.extend(&#123;</div><div class="line">   template : &apos;#child&apos;,</div><div class="line">   // 不同的是，el 和data 选项需要通过函数返回值赋值，避免多个组件实例共用一个数据</div><div class="line">	　 data : function() &#123;</div><div class="line">	　　 return &#123;</div><div class="line">	　　　 ….</div><div class="line">	　　 &#125;</div><div class="line">	　 &#125;</div><div class="line">     ….</div><div class="line"> &#125;)</div><div class="line"></div><div class="line"></div><div class="line">Vue.component(&apos;child&apos;, Child)　// 全局注册子组件</div><div class="line">&lt;child ….&gt;&lt;/child&gt;　// 子组件在其他组件内的调用方式</div></pre></td></tr></table></figure>
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/29/vue-9-Vue-extend/" class="archive-article-date">
  	<time datetime="2017-10-29T06:04:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-29</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-8-事件绑定与监听" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/29/vue-8-事件绑定与监听/">vue(8)-事件绑定与监听</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>当模板渲染完成之后，就可以进行事件的绑定与监听了。Vue.js 提供了v-on 指令用来监听DOM 事件，通常在模板内直接使用，而不像传统方式在js 中获取DOM 元素，然后绑定<br>事件。例如：</p>
<pre><code>&lt;button v-on:click=&quot;get&quot;&gt;get&lt;/button&gt;
</code></pre><h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h5 id="1-方法及内联语句处理器"><a href="#1-方法及内联语句处理器" class="headerlink" title="1.方法及内联语句处理器"></a>1.方法及内联语句处理器</h5><p>通过v-on 可以绑定实例选项属性methods 中的方法作为事件的处理器，v-on: 后参数接受所有的原生事件名称。例如：</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">   &lt;button v-on:click=&quot;get&quot;&gt;get&lt;/button&gt;</div><div class="line">var vm = new Vue(&#123;</div><div class="line">　 el : &apos;#app&apos;,</div><div class="line">　 data: &#123;</div><div class="line">　　 msg : &apos;Hello Vue.js&apos;</div><div class="line">　 &#125;,</div><div class="line">　 methods : &#123;</div><div class="line">　　 get : function() &#123;</div><div class="line">　　　　 alert(this.msg);</div><div class="line">　　 &#125;</div><div class="line">　 &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>单击button，即可触发get函数，弹出alert 框’Hello Vue.js’。<br>Vue.js 也提供了v-on 的缩写形式， 我们可以将模板中的内容改写：</p>
<pre><code>&lt;button @click=&apos;get&apos;&gt;get&lt;/button&gt;，
</code></pre><p>这两句语句是等价的。  </p>
<p>除了直接绑定methods 函数外，v-on 也支持内联JavaScript 语句，但仅限一个语句。例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">   &lt;button v-on:click=&quot;getA(&apos;from&apos;)&quot;&gt;getA&lt;/button&gt;</div><div class="line">var vm = new Vue(&#123;</div><div class="line">　 el : &apos;#app&apos;,</div><div class="line">　 data: &#123;</div><div class="line">　　 msg : &apos;Hello Vue.js&apos;</div><div class="line">　 &#125;,</div><div class="line">　 methods : &#123;</div><div class="line">　　  getA:function(param)&#123;</div><div class="line">           alert(this.msg+&quot; &quot;+param);</div><div class="line">        &#125;</div><div class="line">　 &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>在直接绑定methods 函数和内联JavaScript 语句时，都有可能需要获取原生DOM 事件对象，以下两种方式都可以获取：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;button v-on:click=&quot;showEvent&quot;&gt;Event&lt;/button&gt;</div><div class="line">&lt;button v-on:click=&quot;showEvent($event)&quot;&gt;showEvent&lt;/button&gt;</div><div class="line">&lt;button v-on:click=&quot;showEvent()&quot;&gt;showEvent&lt;/button&gt; // 这样写获取不到event</div><div class="line">var vm = new Vue(&#123;</div><div class="line">　 el : &apos;#app&apos;,</div><div class="line">　 methods : &#123;</div><div class="line">　　showEvent : function(event) &#123;</div><div class="line">　　 console.log(event);</div><div class="line">　　&#125;</div><div class="line">　 &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><p>同一元素上也可以通过v-on 绑定多个相同事件函数，执行顺序为顺序执行，例如：  </p>
<pre><code>&lt;div v-on:click=&quot;sayFrom(&apos;first&apos;)&quot; v-on:click =&quot;sayFrom(&apos;second)&quot;&gt;
</code></pre><h5 id="2-修饰符"><a href="#2-修饰符" class="headerlink" title="2.修饰符"></a>2.修饰符</h5><p>Vue.js 为指令v-on 提供了多个修饰符，方便我们处理一些DOM 事件的细节，并且修饰符可以串联使用。主要的修饰符如下。<br>.stop: 等同于调用event. stopPropagation()。<br>.prevent: 等同于调用event.preventDefault()。<br>.capture: 使用capture 模式添加事件监听器。<br>.self: 只当事件是从监听元素本身触发时才触发回调。  </p>
<p>使用如下:  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;a v-on:click.stop=&apos;doThis&apos;&gt;&lt;/a&gt;</div><div class="line">&lt;form v-on:submit.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt; // 阻止表单默认提交事件</div><div class="line">&lt;form v-on:submit.stop.prevent=&quot;onSubmit&quot;&gt;&lt;/form&gt; // 阻止默认提交事件且阻止冒泡</div><div class="line">&lt;form v-on:submit.stop.prevent&gt;&lt;/form&gt; // 也可以只有修饰符，并不绑定事件</div></pre></td></tr></table></figure>
</code></pre><p>除了事件修饰符之外，v-on 还提供了按键修饰符，方便我们监听键盘事件中的按键。例如：  </p>
<pre><code>&lt;input v-on:keyup.enter=&quot;submit&quot; /&gt;
</code></pre><p>Vue.js 也允许我们自己定义按键别名，例如：  </p>
<pre><code>Vue.directive(&apos;on&apos;).keyCodes.f1 = 112; // 即可以使用&lt;input v-on:keyup.f1=&quot;help&quot; /&gt;
</code></pre><p>Vue.js 2.0 中可以直接在Vue.config.keyCodes 里添加自定义按键别名，无需修改v-on<br>指令，例如：Vue.config.keyCodes.f1 = 12。   </p>
<h5 id="3-与传统事件绑定的区别"><a href="#3-与传统事件绑定的区别" class="headerlink" title="3.与传统事件绑定的区别"></a>3.与传统事件绑定的区别</h5><p>如果你之前没有接触过Angularjs，ReactJS 这类框架，或许会对Vue.js 这种事件监听<br>方式感到困惑。毕竟我们一开始接受的理念就是将HTML 和JS 隔离开编写。但其实Vue.js<br>事件处理方法和表达式都严格绑定在当前视图的ViewModel 上，所以并不会导致维护困难。<br>而这么写的好处在于：  </p>
<p>1.无需手动管理事件。ViewModal 被销毁时，所有的事件处理器都会自动被删除，让<br>我们从获取DOM 绑定事件然后在特定情况下再解绑这样的事情中解脱出来。<br>2.解耦。ViewModel 代码是纯粹的逻辑代码，和DOM 无关，有利于我们写自动化测试<br>用例。<br>3.还有个与以往不同的细节是，我们在处理ul、li 这种列表，尤其是下拉刷新这种需要异<br>步加载数据的列表时，往往会把li 事件代理到ul 上，这样异步加载进来的新数据就不需要再<br>次绑定事件。而Vue.js 这类的框架由于不需要手动添加事件，往往直接会把事件绑定在li 上，<br>类似这样:<li v-repeat="item in items" v-on:click="clickLi"></li>，理论上每次新增li 的时候都会进行同li 个数的事件绑定，比用事件代理多耗了些性能。但在实际运用中并没有什么特别的性能瓶颈影响，而且我们也省去在代理中处理e.target 的步骤，让事件和DOM 元素关系更紧密、简单。  </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/29/vue-8-事件绑定与监听/" class="archive-article-date">
  	<time datetime="2017-10-29T05:12:47.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-29</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-7-模板渲染" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/28/vue-7-模板渲染/">vue(7)-模板渲染</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>当获取到后端数据后，我们会把它按照一定的规则加载到写好的模板中，输出成在浏览器中显示的HTML，这个过程就称之为渲染。而Vue.js 是在前端（即浏览器内）进行的模板渲染。</p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h5 id="1-前后端渲染对比"><a href="#1-前后端渲染对比" class="headerlink" title="1.前后端渲染对比"></a>1.前后端渲染对比</h5><ol>
<li>早期的Web 项目一般是在服务器端进行渲染，服务器进程从数据库获取数据后，利用后<br>端模板引擎，甚至于直接在HTML 模板中嵌入后端语言（例如JSP），将数据加载进来生成<br>HTML，然后通过网络传输到用户的浏览器中，然后被浏览器解析成可见的页面。而前端渲染<br>则是在浏览器里利用JS 把数据和HTML 模板进行组合。两种方式各有自己的优缺点，需要更<br>具自己的业务场景来选择技术方案。</li>
<li><p>前端渲染的优点在于：<br>1.业务分离，后端只需要提供数据接口，前端在开发时也不需要部署对应的后端环境，通过一些代理服务器工具就能远程获取后端数据进行开发，能够提升开发效率。<br>2.计算量转移，原本需要后端渲染的任务转移给了前端，减轻了服务器的压力。  </p>
</li>
<li><p>后端渲染的优点在于：<br>1.对搜索引擎友好。<br>2.首页加载时间短，后端渲染加载完成后就直接显示HTML，但前端渲染在加载完成<br>后还需要有段js 渲染的时间。</p>
</li>
<li><p>Vue.js 2.0 开始支持服务端渲染，从而让开发者在使用上有了更多的选择。</p>
</li>
</ol>
<h5 id="2-条件渲染"><a href="#2-条件渲染" class="headerlink" title="2.条件渲染"></a>2.条件渲染</h5><p>Vue.js 提供v-if，v-show，v-else，v-for 这几个指令来说明模板和数据间的逻辑关<br>系，这基本就构成了模板引擎的主要部分。具体看<a href="https://startshineye.github.io/tags/vue/" target="_blank" rel="external">https://startshineye.github.io/tags/vue/</a></p>
<h5 id="3-列表渲染"><a href="#3-列表渲染" class="headerlink" title="3.列表渲染"></a>3.列表渲染</h5><p>v-for 指令主要用于列表渲染，将根据接收到数组重复渲染v-for 绑定到的DOM 元素及<br>内部的子元素，并且可以通过设置别名的方式，获取数组内数据渲染到节点中。具体看<a href="https://startshineye.github.io/tags/vue/" target="_blank" rel="external">https://startshineye.github.io/tags/vue/</a></p>
<h5 id="4-template标签用法"><a href="#4-template标签用法" class="headerlink" title="4.template标签用法"></a>4.template标签用法</h5><p>上述的例子中，v-show 和v-if 指令都包含在一个根元素中，那是否有方式可以将指令<br>作用到多个兄弟DOM 元素上？ Vue.js 提供了template 标签，我们可以将指令作用到这个标<br>签上，但最后的渲染结果里不会有它。例如：  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;template v-if=&quot;yes&quot;&gt;</div><div class="line">   &lt;p&gt;There is first dom&lt;/p&gt;</div><div class="line">   &lt;p&gt;There is second dom&lt;/p&gt;</div><div class="line">   &lt;p&gt;There is third dom&lt;/p&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure>
</code></pre><p>同样， template 标签也支持使用v-for 指令，用来渲染同级的多个兄弟元素。例如：</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;template v-for=&quot;item in items&quot;&gt;</div><div class="line">   &lt;p&gt;&#123;&#123;item.name&#125;&#125;&lt;/p&gt;</div><div class="line">   &lt;p&gt;&#123;&#123;item.desc&#125;&#125;&lt;p&gt;</div><div class="line">   &lt;/template&gt;</div></pre></td></tr></table></figure>
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/28/vue-7-模板渲染/" class="archive-article-date">
  	<time datetime="2017-10-28T09:45:26.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-28</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-vue-6-Class与Style绑定" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/28/vue-6-Class与Style绑定/">vue(6)-Class与Style绑定</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li>在开发过程中，我们经常会遇到动态添加类名或直接修改内联样式（例如tab 切换）。</li>
<li>class 和style 都是DOM 元素的attribute，我们当然可以直接使用v-bind 对这两个属性进行数据绑定，例如<p v-bind:style="style"></p><p>，然后通过修改vm.style 的值对元素样式进行<br>修改。但这样未免过于繁琐而且容易出错，所以Vue.js 为这两个属性单独做了增强处理，表<br>达式的结果类型除了字符串之外，还可以是对象和数组。</p></li>
</ol>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h5 id="1-Class绑定"><a href="#1-Class绑定" class="headerlink" title="1.Class绑定"></a>1.Class绑定</h5><p>首先说明的是class 属性，我们绑定的数据可以是对象和数组。<br>基本js如下:  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">var vm = new Vue(&#123;</div><div class="line">    el:&quot;#app&quot;,</div><div class="line">    data:&#123;</div><div class="line">        active:true,</div><div class="line">        classA:&apos;class-a&apos;,</div><div class="line">        classB:&apos;class-b&apos;,</div><div class="line">        isB:false,</div><div class="line">        objStyle:&#123;</div><div class="line">            color:&apos;red&apos;,</div><div class="line">            fontSize:&apos;20px&apos;</div><div class="line">        &#125;,</div><div class="line">        styleA:&#123;</div><div class="line">            color:&apos;blue&apos;,</div><div class="line">            fontSize:&apos;12px&apos;</div><div class="line">        &#125;,</div><div class="line">        styleB:&#123;</div><div class="line">           width:&apos;45px&apos;,</div><div class="line">            height:&apos;45px&apos;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</code></pre><h6 id="1-1-对象语法"><a href="#1-1-对象语法" class="headerlink" title="1.1.对象语法"></a>1.1.对象语法</h6><p>对象语法：v-bind:class 接受参数是一个对象，而且可以与普通的class 属性共存。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;tab&quot; v-bind:class=&quot;&#123;&apos;active&apos;:active,&apos;unactive&apos;:!active&#125;&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><p>渲染结果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/33.png" alt=""></p>
<h6 id="1-2-数组语法"><a href="#1-2-数组语法" class="headerlink" title="1.2.数组语法"></a>1.2.数组语法</h6><p>数组语法：v-bind:class 也接受数组作为参数。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!--数组语法--&gt;</div><div class="line">   &lt;div v-bind:class=&quot;[classA,classB]&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><p>渲染结果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/34.png" alt=""></p>
<h6 id="1-3-三元运算符"><a href="#1-3-三元运算符" class="headerlink" title="1.3.三元运算符"></a>1.3.三元运算符</h6><p>也可以使用三元表达式切换数组中的class，</p>
<pre><code>&lt;div v-bind:class=&quot;[classA, isB ? classB :、&apos;&apos;]&quot;&gt;&lt;/div&gt;。
</code></pre><p>渲染结果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/35.png" alt=""></p>
<h5 id="2-内联样式绑定"><a href="#2-内联样式绑定" class="headerlink" title="2.内联样式绑定"></a>2.内联样式绑定</h5><p>style属性绑定的数据即为内联样式,同样具备有对象和数组两种方式。  </p>
<h6 id="2-1对象语法"><a href="#2-1对象语法" class="headerlink" title="2.1对象语法"></a>2.1对象语法</h6><p>对象语法：直接绑定符合样式格式的对象。<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/36.png" alt=""></p>
<p>除了直接绑定对象外，也可以绑定单个属性或直接使用字符串。  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;div v-bind:style=&quot;&#123; fontSize : objStyle.fontSize, color : &apos;red&apos;&#125;&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><h6 id="2-2-数组语法"><a href="#2-2-数组语法" class="headerlink" title="2.2 数组语法"></a>2.2 数组语法</h6><p>数组语法：v-bind:style 允许将多个样式对象绑定到统一元素上。</p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;!--style数组绑定--&gt;</div><div class="line">   &lt;div v-bind:style=&quot;[styleA,styleB]&quot;&gt;&lt;/div&gt;</div></pre></td></tr></table></figure>
</code></pre><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/10/37.png" alt=""></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/10/28/vue-6-Class与Style绑定/" class="archive-article-date">
  	<time datetime="2017-10-28T08:43:05.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-10-28</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Vue-js-前端开发-快速入门与专业应用/">Vue.js+前端开发+快速入门与专业应用</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/17/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="page-number" href="/page/17/">17</a><span class="page-number current">18</span><a class="page-number" href="/page/19/">19</a><a class="page-number" href="/page/20/">20</a><span class="space">&hellip;</span><a class="page-number" href="/page/51/">51</a><a class="extend next" rel="next" href="/page/19/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2019 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/CTI/" style="font-size: 11.05px;">CTI</a> <a href="/tags/Cookie/" style="font-size: 10.53px;">Cookie</a> <a href="/tags/DevelopmentSkills/" style="font-size: 10px;">DevelopmentSkills</a> <a href="/tags/Easyui/" style="font-size: 10px;">Easyui</a> <a href="/tags/ElasticStack/" style="font-size: 13.16px;">ElasticStack</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Http/" style="font-size: 10px;">Http</a> <a href="/tags/IE问题/" style="font-size: 10px;">IE问题</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 12.11px;">JVM</a> <a href="/tags/JavaSE/" style="font-size: 15.26px;">JavaSE</a> <a href="/tags/Jeecg/" style="font-size: 11.58px;">Jeecg</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Myeclipse/" style="font-size: 14.21px;">Myeclipse</a> <a href="/tags/Netty/" style="font-size: 16.84px;">Netty</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Oracle/" style="font-size: 16.84px;">Oracle</a> <a href="/tags/Redis/" style="font-size: 12.11px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 11.58px;">Servlet</a> <a href="/tags/Spring/" style="font-size: 10.53px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 10px;">Spring Boot</a> <a href="/tags/SpringBoot/" style="font-size: 19.47px;">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 12.11px;">SpringCloud</a> <a href="/tags/SpringMVC/" style="font-size: 11.05px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 18.95px;">Vue</a> <a href="/tags/Vue-js-前端开发-快速入门与专业应用/" style="font-size: 17.37px;">Vue.js+前端开发+快速入门与专业应用</a> <a href="/tags/Weblogic/" style="font-size: 12.11px;">Weblogic</a> <a href="/tags/Websocket/" style="font-size: 10.53px;">Websocket</a> <a href="/tags/Work-Problem/" style="font-size: 10px;">Work-Problem</a> <a href="/tags/bg/" style="font-size: 10px;">bg</a> <a href="/tags/c/" style="font-size: 10.53px;">c</a> <a href="/tags/crawler/" style="font-size: 17.89px;">crawler</a> <a href="/tags/dubbo/" style="font-size: 10px;">dubbo</a> <a href="/tags/easyui/" style="font-size: 10px;">easyui</a> <a href="/tags/freeswitch/" style="font-size: 10px;">freeswitch</a> <a href="/tags/hibernate/" style="font-size: 10.53px;">hibernate</a> <a href="/tags/html-css/" style="font-size: 10.53px;">html+css</a> <a href="/tags/html-css/" style="font-size: 15.26px;">html-css</a> <a href="/tags/html-ss/" style="font-size: 10px;">html-ss</a> <a href="/tags/im/" style="font-size: 13.68px;">im</a> <a href="/tags/ipcc/" style="font-size: 10.53px;">ipcc</a> <a href="/tags/jQuery/" style="font-size: 12.11px;">jQuery</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/java-String/" style="font-size: 10px;">java String</a> <a href="/tags/javaSE/" style="font-size: 10.53px;">javaSE</a> <a href="/tags/javaWeb/" style="font-size: 10px;">javaWeb</a> <a href="/tags/javascript/" style="font-size: 11.05px;">javascript</a> <a href="/tags/java并发编程/" style="font-size: 11.58px;">java并发编程</a> <a href="/tags/java集合/" style="font-size: 10.53px;">java集合</a> <a href="/tags/junit测试/" style="font-size: 10px;">junit测试</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/linux/" style="font-size: 16.32px;">linux</a> <a href="/tags/log4j/" style="font-size: 11.58px;">log4j</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/netty/" style="font-size: 11.58px;">netty</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodeJs/" style="font-size: 10px;">nodeJs</a> <a href="/tags/redis/" style="font-size: 12.63px;">redis</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/shiro/" style="font-size: 12.63px;">shiro</a> <a href="/tags/sockJs/" style="font-size: 10px;">sockJs</a> <a href="/tags/socket网络编程/" style="font-size: 10.53px;">socket网络编程</a> <a href="/tags/struts1/" style="font-size: 11.05px;">struts1</a> <a href="/tags/vue/" style="font-size: 10.53px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/weblogic/" style="font-size: 11.05px;">weblogic</a> <a href="/tags/websocket/" style="font-size: 15.79px;">websocket</a> <a href="/tags/work/" style="font-size: 14.74px;">work</a> <a href="/tags/zyzx/" style="font-size: 18.42px;">zyzx</a> <a href="/tags/代理/" style="font-size: 11.58px;">代理</a> <a href="/tags/前端/" style="font-size: 10.53px;">前端</a> <a href="/tags/动手写一个MVC/" style="font-size: 12.11px;">动手写一个MVC</a> <a href="/tags/反射/" style="font-size: 15.79px;">反射</a> <a href="/tags/异常/" style="font-size: 10px;">异常</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/文件读取/" style="font-size: 10px;">文件读取</a> <a href="/tags/泛型/" style="font-size: 13.16px;">泛型</a> <a href="/tags/注解/" style="font-size: 11.05px;">注解</a> <a href="/tags/类加载器/" style="font-size: 13.16px;">类加载器</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/自己写一个apache服务器/" style="font-size: 16.84px;">自己写一个apache服务器</a> <a href="/tags/转载/" style="font-size: 12.11px;">转载</a> <a href="/tags/集合/" style="font-size: 12.11px;">集合</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>