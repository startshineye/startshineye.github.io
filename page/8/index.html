<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta property="og:type" content="website">
<meta property="og:title" content="Startshineye的博客">
<meta property="og:url" content="https://github.com/startshineye/page/8/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Startshineye的博客">
<meta name="twitter:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-Android-38-源码查看器-一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/Android-38-源码查看器-一/">Android(38)-源码查看器(一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/94.png" alt=""><br>1.输入网址<br>2.点击查看按钮<br>3.显示源码  </p>
<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><h6 id="1-ui"><a href="#1-ui" class="headerlink" title="1.ui"></a>1.ui</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:orientation=&quot;vertical&quot;</div><div class="line">tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line"></div><div class="line">&lt;EditText </div><div class="line">android:id=&quot;@+id/et_path&quot;</div><div class="line">android:layout_height=&quot;wrap_content&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:hint=&quot;请输入网址&quot;</div><div class="line">/&gt;</div><div class="line"> </div><div class="line">&lt;Button </div><div class="line">android:onClick=&quot;click&quot;</div><div class="line">android:layout_height=&quot;wrap_content&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:text=&quot;查看&quot;</div><div class="line">/&gt;</div><div class="line"></div><div class="line">&lt;EditText </div><div class="line"> android:id=&quot;@+id/et_content&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line"> /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure>
</code></pre><h6 id="2-逻辑"><a href="#2-逻辑" class="headerlink" title="2.逻辑"></a>2.逻辑</h6><p>获取EditText里面的内容,然后点击EditText,发送Http请求,然后将得到的结果返回给EditText  </p>
<pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">    public class MainActivity extends Activity &#123;</div><div class="line"></div><div class="line">    private EditText et;</div><div class="line">	private TextView content;</div><div class="line"></div><div class="line">	@Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        //拿到控件</div><div class="line">        et = (EditText)findViewById(R.id.et_path);</div><div class="line">        content = (TextView)findViewById(R.id.et_content);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    //点击事件</div><div class="line">    public void click()&#123;</div><div class="line">      try &#123;</div><div class="line">		   //【2.1】获取路径</div><div class="line">			String path = et.getText().toString().trim();</div><div class="line">			//【2.2】创建 URL 对象指定我们要访问的网址</div><div class="line">			URL url = new URL(path);</div><div class="line">			//【2.3】获取HttpUrlConnection对象 用于发送或者接受数据</div><div class="line">			HttpURLConnection conn = (HttpURLConnection) url.openConnection();</div><div class="line">			//【2.4】设置发送Get请求</div><div class="line">			conn.setRequestMethod(&quot;GET&quot;);</div><div class="line">			//【2.5】设置请求超时时间</div><div class="line">			conn.setReadTimeout(5000);</div><div class="line">			//【2.6】获取服务器返回的状态码</div><div class="line">			int code = conn.getResponseCode();</div><div class="line">			//【2.7】code == 200说明请求成功</div><div class="line">			if(code == 200)&#123;</div><div class="line">				//【2.8】获取服务器返回的数据（以流的形式）</div><div class="line">				InputStream in = conn.getInputStream();</div><div class="line">				//【2.9】把流里面数据返回到页面</div><div class="line">			&#125;</div><div class="line">			</div><div class="line">	&#125; catch (Exception e) &#123;</div><div class="line">		e.printStackTrace();</div><div class="line">	&#125; </div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/23/Android-38-源码查看器-一/" class="archive-article-date">
  	<time datetime="2017-03-23T15:24:04.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-23</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="w-Android-37-httpUrlConnection类的使用" class="article article-type-w" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/23/Android-37-httpUrlConnection类的使用/">Android(37)-httpUrlConnection类的使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>在一些接口开发,或者对接接口的时候我们都需要使用HttpUrlConnection来发送请求  </p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h6 id="1-看一下概述知道"><a href="#1-看一下概述知道" class="headerlink" title="1.看一下概述知道:"></a>1.看一下概述知道:</h6><ol>
<li>An URLConnection for HTTP (RFC 2616) used to send and receive data over the web. Data may be of any type and length. This class may be used to send and receive streaming data whose length is not known in advance. </li>
<li>2.使用这个类的步骤:<br>1.Obtain a new HttpURLConnection by calling URL.openConnection() and casting the result to HttpURLConnection.<br>2.Prepare the request. The primary property of a request is its URI. Request headers may also include metadata such as credentials, preferred content types, and session cookies.<br>3.Optionally upload a request body. Instances must be configured with setDoOutput(true) if they include a request body. Transmit data by writing to the stream returned by getOutputStream().<br>4.Read the response. Response headers typically include metadata such as the response body’s content type and length, modified dates and session cookies. The response body may be read from the stream returned by getInputStream(). If the response has no body, that method returns an empty stream.<br>5.Disconnect. Once the response body has been read, the HttpURLConnection should be closed by calling disconnect(). Disconnecting releases the resources held by a connection so they may be closed or reused. <h6 id="2-例子"><a href="#2-例子" class="headerlink" title="2.例子"></a>2.例子</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//建立与服务器的URL对像</div><div class="line">URL url = new URL(&quot;http://localhost:9999/day05/servlet/Servlet1&quot;);</div><div class="line">//打开连接</div><div class="line">HttpURLConnection con = (HttpURLConnection)url.openConnection();</div><div class="line">//获取服务器的输入流</div><div class="line">InputStream in = con.getInputStream();</div><div class="line">BufferedReader br = new BufferedReader(new InputStreamReader(in));</div><div class="line">String str = &quot;&quot;;</div><div class="line">while((str=br.readLine())!=null)&#123;</div><div class="line">System.err.println(str);</div><div class="line">&#125;</div><div class="line">//关闭连接</div><div class="line">con.disconnect();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="3-说明"><a href="#3-说明" class="headerlink" title="3.说明"></a>3.说明</h6><ol>
<li><p>1.HttpURLConnection类的作用是通过HTTP协议向服务器发送请求，并可以获取服务器发回的数据。 HttpURLConnection来自于jdk，它的完整名称为:java.net.HttpURLConnection HttpURLConnection类，没有公开的构造方法，但我们可以通过java.net.URL的openConnection方法获取一个URLConnection的实例,而HttpURLConnection是它的子类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">URL url = new URL(“http://www.baidu.com”); HttpURLConnection connection = (HttpURLConnection) url.openConnection();</div></pre></td></tr></table></figure>
</li>
<li><p>2.conn.getResponseCode()：获取响应码 conn.getResponseMessage()：获取响应码描述 conn.getHeaderField(“Server”)：获取响应头 conn.getInputStream()：获取正文输入流</p>
</li>
<li><p>3.向服务器发消息默认请求到doGet方式</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">URL url = new URL(&quot;http://localhost:9999/day05/index.jsp&quot;);</div><div class="line">HttpURLConnection con = (HttpURLConnection)url.openConnection();</div><div class="line">//1、打开可以向服务器发消息</div><div class="line">con.setDoOutput(true);</div><div class="line">conn.setRequestProperty(&quot;xxx&quot;, &quot;yyy&quot;);//发送请求头</div><div class="line">OutputStream out = con.getOutputStream();</div><div class="line">out.write(“name=wzhting”.getBytes());//发送正文数据</div><div class="line">//2、获取状态码，以表示完成请求</div><div class="line">int code = con.getResponseCode();</div><div class="line">System.err.println(code);</div></pre></td></tr></table></figure>
</li>
<li><p>4.使用doPost方式</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">URL url = new URL(&quot;http://localhost:9999/day05/servlet/TestConnection&quot;);</div><div class="line">HttpURLConnection con = (HttpURLConnection)url.openConnection();</div><div class="line">//1、设置请求方式为post</div><div class="line">con.setRequestMethod(&quot;POST&quot;);</div><div class="line">//可以向服务器发消息</div><div class="line">con.setDoOutput(true);</div><div class="line">OutputStream out = con.getOutputStream();</div><div class="line">out.write(&quot;name=wzhting&quot;.getBytes));</div><div class="line">//获取状态码，以表示完成请求</div><div class="line">int code = con.getResponseCode();</div><div class="line">System.err.println(code);</div></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/23/Android-37-httpUrlConnection类的使用/" class="archive-article-date">
  	<time datetime="2017-03-23T14:46:11.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-23</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Http/">Http</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-36-simpleadapte" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/Android-36-simpleadapte/">Android(36)-simpleadapte</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><ol>
<li>1.SimpleAdapter是扩展性最好的适配器，可以定义各种你想要的布局，而且使用很方便</li>
<li>2.SimpleAdapter(Context context, List&lt;? extends Map<string, ?="">&gt; data, int resource, String[] from, int[] to)<br>参数context：上下文，比如this。关联SimpleAdapter运行的视图上下文<br>参数data：Map列表，列表要显示的数据，这部分需要自己实现，如例子中的getData()，类型要与上面的一致，每条项目要与from中指定条目一致<br>参数resource：ListView单项布局文件的Id,这个布局就是你自定义的布局了，你想显示什么样子的布局都在这个布局中。这个布局中必须包括了to中定义的控件id<br>参数 from：一个被添加到Map上关联每一个项目列名称的列表，数组里面是列名称<br>参数 to：是一个int数组，数组里面的id是自定义布局中各个控件的id，需要与上面的from对应  <h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4>下面讲解SimpleAdapter的具体代码实现如下效果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/93.png" alt="">  <h6 id="1-ui"><a href="#1-ui" class="headerlink" title="1.ui"></a>1.ui</h6></string,></li>
<li><p>1.activity_main.xml  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line">&lt;ListView </div><div class="line">    android:id=&quot;@+id/lv&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    &gt;&lt;/ListView&gt;</div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>2.data.xml</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:orientation=&quot;horizontal&quot; &gt;</div><div class="line">&lt;EditText </div><div class="line">    android:id=&quot;@+id/et_name&quot;</div><div class="line">    android:layout_width=&quot;wrap_content&quot;</div><div class="line">    android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_weight=&quot;1&quot;</div><div class="line">    android:textSize=&quot;20sp&quot;</div><div class="line">    /&gt;</div><div class="line"> &lt;EditText </div><div class="line">     android:id=&quot;@+id/et_phone&quot;</div><div class="line">    android:layout_width=&quot;wrap_content&quot;</div><div class="line">    android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_weight=&quot;1&quot;</div><div class="line">    android:textSize=&quot;20sp&quot;</div><div class="line">    android:textColor=&quot;#ff0000&quot;</div><div class="line">    /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="2-逻辑"><a href="#2-逻辑" class="headerlink" title="2.逻辑"></a>2.逻辑</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends Activity &#123;</div><div class="line">@Override</div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    super.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    ArrayList&lt;Map&lt;String,String&gt;&gt; data = new ArrayList&lt;Map&lt;String,String&gt;&gt;();</div><div class="line">    </div><div class="line">    Map&lt;String, String&gt; map1 = new HashMap&lt;String, String&gt;();</div><div class="line">    Map&lt;String, String&gt; map2 = new HashMap&lt;String, String&gt;();</div><div class="line">    Map&lt;String, String&gt; map3 = new HashMap&lt;String, String&gt;();</div><div class="line">    Map&lt;String, String&gt; map4 = new HashMap&lt;String, String&gt;();</div><div class="line">    map1.put(&quot;name&quot;,&quot;张飞&quot;);</div><div class="line">    map1.put(&quot;phone&quot;,&quot;1388888&quot;);</div><div class="line">    map2.put(&quot;name&quot;,&quot;赵云&quot;);</div><div class="line">    map2.put(&quot;phone&quot;,&quot;110&quot;);</div><div class="line">    map3.put(&quot;name&quot;,&quot;貂蝉&quot;);</div><div class="line">    map3.put(&quot;phone&quot;,&quot;13882223&quot;);</div><div class="line">    map4.put(&quot;name&quot;,&quot;关于&quot;);</div><div class="line">    map4.put(&quot;phone&quot;,&quot;119&quot;);</div><div class="line">    data.add(map1);</div><div class="line">    data.add(map2);</div><div class="line">    data.add(map3);</div><div class="line">    data.add(map4);</div><div class="line">    //1.找到视图</div><div class="line">    ListView lv = (ListView)findViewById(R.id.lv);</div><div class="line">    //2.视图渲染</div><div class="line">    SimpleAdapter simpleAdapter = new SimpleAdapter(getApplicationContext(), data,R.layout.data,new String[]&#123;&quot;name&quot;,&quot;phone&quot;&#125;,new int[]&#123;R.id.et_name,R.id.et_phone&#125;);</div><div class="line">    lv.setAdapter(simpleAdapter);</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><h6 id="3-测试"><a href="#3-测试" class="headerlink" title="3.测试"></a>3.测试</h6><p>测试结果如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/93.png" alt=""> </p>
<p>##前面36节讲的就是”数据存储与展示”   </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/20/Android-36-simpleadapte/" class="archive-article-date">
  	<time datetime="2017-03-20T14:21:12.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-20</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-34-Layout-weight-权重" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/20/Android-34-Layout-weight-权重/">Android(34)-Layout_weight(权重)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="权重"><a href="#权重" class="headerlink" title="权重"></a>权重</h4><ol>
<li>1.Android权重在Android是一个比较重要的概念,权重本人理解就是在线性布局中将线性布局划分为多少份。</li>
<li>2.权重一定是用在线性布局中,对于非线性布局是不存在这种说法</li>
</ol>
<h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h4><h6 id="1-线性布局中使用权重"><a href="#1-线性布局中使用权重" class="headerlink" title="1.线性布局中使用权重"></a>1.线性布局中使用权重</h6><p>线性布局中使用weight的ui代码如下:<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:orientation=&quot;horizontal&quot; &gt;</div><div class="line">&lt;TextView </div><div class="line">    android:layout_weight=&quot;2&quot;</div><div class="line">    android:layout_width=&quot;wrap_content&quot;</div><div class="line">    android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:text=&quot;111&quot;</div><div class="line">    /&gt;</div><div class="line"> &lt;TextView </div><div class="line">    android:layout_weight=&quot;1&quot;</div><div class="line">    android:layout_width=&quot;wrap_content&quot;</div><div class="line">    android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:text=&quot;222&quot;</div><div class="line">    /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<p>测试结果:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/91.png" alt=""><br>从以上可以知道,把整个划分成3等分,111占据2等分,222占据1等分</p>
<h6 id="2-非线性布局中使用权重"><a href="#2-非线性布局中使用权重" class="headerlink" title="2.非线性布局中使用权重"></a>2.非线性布局中使用权重</h6><p>当我们在非线性布局中加入权重,”ALT+/“并不会出现权重android:layout_weight提示,这也说明了非线性布局不支持权重<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/92.png" alt=""></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/20/Android-34-Layout-weight-权重/" class="archive-article-date">
  	<time datetime="2017-03-20T13:28:45.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-20</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-33-数组适配器介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/19/Android-33-数组适配器介绍/">Android(33)-数组适配器介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>1.前一节我们的listview中展示的view是一个个布局,但是假如我们listview中展示的view是一个个view呢?比如说全都是TextView,我们此时该用什么适配器呢？  </li>
<li>2.我们使用类ArrayAdapter(因为是一个类,所以直接)<h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4>我们只需要创建一个item.xml，他不是布局,只是一个视图<h6 id="1-ui"><a href="#1-ui" class="headerlink" title="1.ui"></a>1.ui</h6>新建item.xml,内容如下:   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;TextView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">android:id=&quot;@+id/textView1&quot;</div><div class="line">android:layout_width=&quot;wrap_content&quot;</div><div class="line">android:layout_height=&quot;wrap_content&quot;</div><div class="line">android:text=&quot;TextView&quot; /&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="2-逻辑"><a href="#2-逻辑" class="headerlink" title="2.逻辑"></a>2.逻辑</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends Activity &#123;</div><div class="line">String[] obj = new String[]&#123;&quot;张三&quot;,&quot;李四&quot;,&quot;王五&quot;&#125;;</div><div class="line">@Override</div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    super.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    //1.找到控件</div><div class="line">    ListView lv = (ListView) findViewById(R.id.lv);</div><div class="line">    //数据显示</div><div class="line">    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), R.layout.item, obj);</div><div class="line">    lv.setAdapter(adapter);</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><h6 id="3-测试"><a href="#3-测试" class="headerlink" title="3.测试"></a>3.测试</h6><p>测试结果如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/90.png" alt=""></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/19/Android-33-数组适配器介绍/" class="archive-article-date">
  	<time datetime="2017-03-18T16:13:31.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-19</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-32-打气筒介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-32-打气筒介绍/">Android(32)-打气筒介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>打气筒就是把布局文件转化成view从而显示在listview中  </p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><p>打气筒一般都用于显示复杂页面,在listview中布局<br>做一个比较相似于下面的布局,需要加上一个图片和右边的文字<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/83.png" alt=""><br>项目结构目录如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/89.png" alt=""></p>
<h5 id="1-画ui"><a href="#1-画ui" class="headerlink" title="1.画ui"></a>1.画ui</h5><p>上图可以知道,listview下面又有很多类似的布局,分析知我们可以把其中一个item看做一个布局,可以新建一个item.xml文件,从右图可知,一个item.xml包括一张图片和右边的文字  </p>
<ol>
<li>1.采用相对布局，左边图片,右边文字   </li>
<li>2.文字单行显示,并有…  </li>
<li>3.颜色深浅  </li>
<li>4.文字大小<h6 id="1-activity-main-xml"><a href="#1-activity-main-xml" class="headerlink" title="1.activity_main.xml"></a>1.activity_main.xml</h6> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line">&lt;ListView </div><div class="line">    android:id=&quot;@+id/lv&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">    &gt;&lt;/ListView&gt;    </div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="2-item-xml"><a href="#2-item-xml" class="headerlink" title="2.item.xml"></a>2.item.xml</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:orientation=&quot;vertical&quot; &gt;</div><div class="line">   </div><div class="line">&lt;ImageView </div><div class="line">    android:id=&quot;@+id/iv_icon&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">     android:src=&quot;@drawable/ic_launcher&quot;</div><div class="line">    /&gt;</div><div class="line"></div><div class="line">&lt;TextView </div><div class="line">    android:id=&quot;@+id/tv_title&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_toRightOf=&quot;@+id/iv_icon&quot;</div><div class="line">    android:singleLine=&quot;true&quot;</div><div class="line">    android:text=&quot;谢霆锋和王非旧情复燃&quot;</div><div class="line">    android:ellipsize=&quot;end&quot;</div><div class="line">    android:textColor=&quot;#000000&quot;</div><div class="line">    android:textSize=&quot;20sp&quot;</div><div class="line">    /&gt;</div><div class="line">  </div><div class="line">&lt;TextView </div><div class="line">    android:id=&quot;@+id/tv_message&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_toRightOf=&quot;@+id/iv_icon&quot;</div><div class="line">    android:layout_below=&quot;@+id/tv_title&quot;</div><div class="line">    android:singleLine=&quot;true&quot;</div><div class="line">    android:text=&quot;媒体拍到两人亲昵&quot;</div><div class="line">    android:ellipsize=&quot;end&quot;</div><div class="line">    android:textColor=&quot;#999999&quot;</div><div class="line">    android:textSize=&quot;15sp&quot;</div><div class="line">    /&gt;</div><div class="line"></div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</code></pre><h5 id="2-写逻辑"><a href="#2-写逻辑" class="headerlink" title="2.写逻辑"></a>2.写逻辑</h5><ol>
<li>1.listview显示数据,上来就需要一个adapter  </li>
<li><p>2.由于我们定义的是一个布局,listview里面的item需要是一个view,所以我们需要把布局转换成view,此时用打气筒inflate,简洁如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/87.png" alt=""><br>resource参数是我们定义的布局,ViewGroup是anroid五大布局的父类</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">  public class MainActivity extends Activity &#123;</div><div class="line">  @Override</div><div class="line">  protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">      super.onCreate(savedInstanceState);</div><div class="line">      setContentView(R.layout.activity_main);</div><div class="line">      //1.找到listview</div><div class="line">     ListView lv = (ListView) findViewById(R.id.lv);</div><div class="line">      //2.listview的mvc模式显示数据adapter</div><div class="line">     lv.setAdapter(new MyAdapter());</div><div class="line">  &#125;</div><div class="line">  public class MyAdapter extends BaseAdapter&#123;</div><div class="line">@Override</div><div class="line">public int getCount() &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return 5;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public Object getItem(int position) &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return null;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public long getItemId(int position) &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return 0;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</div><div class="line">	//固定写法加上打气筒</div><div class="line">	View view;</div><div class="line">	if(convertView==null)&#123;</div><div class="line">		view = View.inflate(getApplicationContext(),R.layout.item,null);</div><div class="line">	&#125;else&#123;</div><div class="line">		view = convertView;</div><div class="line">	&#125;</div><div class="line">	return view;</div><div class="line">&#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="3-结果"><a href="#3-结果" class="headerlink" title="3.结果"></a>3.结果</h5><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/88.png" alt=""></p>
<h4 id="4-获取inflate打气筒的三种方式"><a href="#4-获取inflate打气筒的三种方式" class="headerlink" title="4.获取inflate打气筒的三种方式"></a>4.获取inflate打气筒的三种方式</h4><ol>
<li>1.第一种方式<br>View.inflate</li>
<li>2.第二种方式<br>LayoutInflater.from(getApplicationContext()).inflate(R.layout.item, null);</li>
<li>3.第三种方式  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">LayoutInflater inflacter = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);</div><div class="line">		   view = inflacter.inflate(R.layout.item,null);</div></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-32-打气筒介绍/" class="archive-article-date">
  	<time datetime="2017-03-18T13:18:30.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-31-listview展示数据原理及奇怪现象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-31-listview展示数据原理及奇怪现象/">Android(31)-listview展示数据原理及奇怪现象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="listview展示数据源里"><a href="#listview展示数据源里" class="headerlink" title="listview展示数据源里"></a>listview展示数据源里</h4><p>listview展示数据源里就是mvc模式和java web中mvc类似  </p>
<p>java web中的mvc<br>m:model 数据<br>v:view 视图<br>c:controller 控制  </p>
<p>android中mvc<br>m:mode 数据(javabean)<br>v:view listview<br>c:adapter<br>adapter负责把数据显示到listview中  </p>
<h4 id="ListView的奇怪现象值优化"><a href="#ListView的奇怪现象值优化" class="headerlink" title="ListView的奇怪现象值优化"></a>ListView的奇怪现象值优化</h4><h6 id="1-listview-高使用match-parent"><a href="#1-listview-高使用match-parent" class="headerlink" title="1.listview 高使用match_parent"></a>1.listview 高使用match_parent</h6><p>假如我们屏幕宽为480，每一个listview为60，此时会生成480/60=8个这样系统就能够确定的算出展示的个数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:fastScrollEnabled=&quot;true&quot;</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div></pre></td></tr></table></figure></p>
<h6 id="2-listview-高使用wrap-content"><a href="#2-listview-高使用wrap-content" class="headerlink" title="2.listview 高使用wrap_content"></a>2.listview 高使用wrap_content</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:fastScrollEnabled=&quot;true&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div></pre></td></tr></table></figure>
<p>假如我们屏幕宽为480，每一个listview为60，此时会生成480/60=8个这样系统就能够确定的不能够算出展示的个数,就会进行多次的校验.</p>
<h6 id="3-结论"><a href="#3-结论" class="headerlink" title="3.结论"></a>3.结论</h6><p>以后我们用listview都是用match_parent</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-31-listview展示数据原理及奇怪现象/" class="archive-article-date">
  	<time datetime="2017-03-18T10:20:48.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-30-listview的优化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-30-listview的优化/">Android(30)-listview的优化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>将public int getCount() {return 100000000;}并且在下面方法中加入System.out.print(“hello”+position);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</div><div class="line">	TextView tv = new TextView(getApplicationContext());</div><div class="line">    System.out.print(&quot;hello&quot;+position);</div><div class="line">	 tv.setText(&quot;hello&quot;+position);//显示的内容</div><div class="line">	 return tv;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>运行后会出现什么现象呢？  </p>
<ol>
<li>1.虽然是输入的1亿次，但是此时模拟器屏幕上至多只显示23个view，此时console(控制台)上显示的也是23次    </li>
<li>2.向上拖动屏幕上显示更多,此时console也是显示更多，拖动到400多次的时候会出现内存溢出    </li>
<li><p>3.内存溢出原来:在我们创建应用时候,android虚拟机会给应用分配16M空间,快速拖动屏幕会快速执行getView方法，android中采用垃圾回收机制，当申请的内存大于释放的速度时候就会出现问题(慢慢拖是可以的)<br>解决:使用getView方法的第二个参数,convertView介绍如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/86.png" alt=""><br>按着提示我们修改getView方法最终为:  </p>
<pre><code>//获取一个view,用来显示listview的数据,会作为listview的条目出现
   @Override
   public View getView(int position, View convertView, ViewGroup parent) {
       TextView tv;
       if(convertView==null){
           tv = new TextView(getApplicationContext());
       }else{
           tv = (TextView) convertView;
       }
       tv.setText(&quot;hello&quot;+position);//显示的内容
       return tv;
   }
</code></pre><p>结论:getView方法只要有一个条目在模拟器屏幕上显示出来就会执行一次,原理就像电梯一样,view是不变的,变得只是承载的数据内容  </p>
</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-30-listview的优化/" class="archive-article-date">
  	<time datetime="2017-03-18T09:37:06.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-easyui-数据网格显示聊天记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/17/easyui-数据网格显示聊天记录/">easyui-数据网格显示聊天记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在im聊天中需要在后台显示用户的聊天记录信息,并且 这些信息包括图片,表情,文件。后台配置是采用easyui开发,所以用数据网格显示实现。</p>
<h4 id="数据网格显示的js"><a href="#数据网格显示的js" class="headerlink" title="数据网格显示的js"></a>数据网格显示的js</h4><h6 id="1-查询聊天信息"><a href="#1-查询聊天信息" class="headerlink" title="1.查询聊天信息"></a>1.查询聊天信息</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">   &lt;%--查询聊天信息--%&gt;</div><div class="line">   function openMsgWindow() &#123;</div><div class="line">//调用打开窗口的函数</div><div class="line">addMessage();</div><div class="line"></div><div class="line">var node = $(&apos;#dg_black&apos;).datagrid(&apos;getChecked&apos;);</div><div class="line">if (&quot;&quot; == node) &#123;</div><div class="line">	alert(&quot;请选择要查询的选项！&quot;);</div><div class="line">	return false;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var validate = $(&quot;#chatRecordForm&quot;).form(&apos;enableValidation&apos;).form(&apos;validate&apos;);//日期必输项检查</div><div class="line">if (validate) &#123;</div><div class="line">	var params = &#123;</div><div class="line">		threadId : node[0].threadId</div><div class="line">	&#125;;</div><div class="line">loadMsgDatagrid(params);</div><div class="line">   &#125;&#125;</div><div class="line">   &lt;%--加载聊天数据网络--%&gt;</div><div class="line">   function loadMsgDatagrid(params) &#123;</div><div class="line">	$(&apos;#dg_msg&apos;).datagrid(&#123;</div><div class="line">		url : &apos;chatRecordAction.do?method=queryChatMessage&apos;,</div><div class="line">		queryParams : params,</div><div class="line">		method : &apos;POST&apos;,</div><div class="line">		loadMsg : &apos;正在加载，请稍后...&apos;,</div><div class="line">		striped : true,</div><div class="line">		fitColumns : true,</div><div class="line">		autoRowHeight : true,</div><div class="line">		singleSelect : true,</div><div class="line">		pagination : false,</div><div class="line">		rownumbers : false,</div><div class="line">		onLoadSuccess : function(jsonObj)&#123;</div><div class="line">			//showtooltip();</div><div class="line">		&#125;,</div><div class="line">		columns:[[ </div><div class="line">               &#123;field:&apos;message&apos;,width:190,</div><div class="line">                formatter:function(value,row,index)&#123; </div><div class="line">                return  showChatMsg(value,row,index);</div><div class="line">				&#125; </div><div class="line">			&#125;</div><div class="line">		]]</div><div class="line">	&#125;);</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</code></pre><h6 id="2-展示聊天消息"><a href="#2-展示聊天消息" class="headerlink" title="2.展示聊天消息"></a>2.展示聊天消息</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line">   //消息组合</div><div class="line">   function showChatMsg(value,row,index)&#123;</div><div class="line">   var basePath=&quot;http://localhost:8088/focuss&quot;;</div><div class="line">   if (row.messageType == 1) &#123;//发送文本消息</div><div class="line">     var  htmlStr=&quot;&quot;;</div><div class="line">   // 解析发送过来的含QQ表情的信息</div><div class="line">     var htmlmessage = replace_em(row.message);</div><div class="line">     if (row.messageFrom == 1) &#123;// 消息从客户端来临</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left;\&quot;&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">	    htmlStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;</div><div class="line">			+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		htmlStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ htmlmessage + &quot;&lt;/div&gt;&quot;;</div><div class="line">		return htmlStr;</div><div class="line">&#125;else if (row.messageFrom == 2) &#123;// 从坐席端来消息</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float: right;\&quot;&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席 &quot;</div><div class="line">			+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">	htmlStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">			+htmlmessage + &quot;&lt;/div&gt;&lt;/div&gt;&quot;;</div><div class="line">        return htmlStr;</div><div class="line">  &#125;</div><div class="line">    &#125;else if(row.messageType==2)&#123;// 发送图片消息</div><div class="line">    var allPicture = &quot;gif,jpg,jpeg,png,bmp&quot;;// 图片种类</div><div class="line">    var fileStr = &quot;&quot;;</div><div class="line">    var filename = row.message.split(&quot;#&quot;)[0];</div><div class="line">    var title = row.message.split(&quot;#&quot;)[1];</div><div class="line">    var fileType = row.message.split(&quot;#&quot;)[2];</div><div class="line">    var flag = row.message.split(&quot;#&quot;)[3];</div><div class="line">    var index = allPicture.indexOf(fileType);</div><div class="line">    if(index&gt;=0)&#123;// 文件图片的显示</div><div class="line">	      if(row.messageFrom == 1)&#123;//u--&gt;a</div><div class="line">	        fileStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		    fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;</div><div class="line">				+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">	        fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		    fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">					+ &quot;&lt;img class=\&quot;msg-image\&quot; src=&apos;&quot;+basePath+&quot;/file/&quot;+new Date().Format(&quot;yyyy/MM/dd&quot;)+&quot;/&quot;+filename+&quot;&apos; title=\&quot;&quot;+title+&quot;\&quot; data-bindattr-3325=\&quot;3325\&quot;/&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			return fileStr;</div><div class="line">	    &#125;else if(row.messageFrom == 2)&#123;// a--&gt;u</div><div class="line">	        fileStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float:right\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席 &quot;</div><div class="line">					+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">			fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">					+ &quot;&lt;img class=\&quot;msg-image\&quot; src=&apos;&quot;+basePath+&quot;/file/&quot;+new Date().Format(&quot;yyyy/MM/dd&quot;)+&quot;/&quot;+filename+&quot;&apos; title=\&quot;&quot;+title+&quot;\&quot; data-bindattr-3325=\&quot;3325\&quot;/&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			return fileStr;</div><div class="line">	    &#125;</div><div class="line">	 &#125;</div><div class="line">   &#125;else&#123;// 其他文件的显示</div><div class="line">      if(row.messageFrom == 1)&#123;// 一般文件信息  u--&gt;a</div><div class="line">        fileStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left\&quot;&gt;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ &quot;&lt;a class=\&quot;file\&quot; href=&apos;&quot;+basePath+&quot;/file/fileDownload.do?filename=&quot;+filename+&quot;&apos; target=\&quot;_blank\&quot;&gt;&quot;+title+&quot;&lt;/a&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		return fileStr;</div><div class="line">      &#125;else if(row.messageFrom == 2)&#123;// a--&gt;u</div><div class="line">        fileStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float:right\&quot;&gt;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席&quot;</div><div class="line">				+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ &quot;&lt;a class=\&quot;file\&quot; href=&apos;&quot;+basePath+&quot;/file/fileDownload.do?filename=&quot;+filename+&quot;&apos; target=\&quot;_blank\&quot;&gt;&quot;+title+&quot;&lt;/a&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		return fileStr;</div><div class="line">      &#125; </div><div class="line"> &#125;  </div><div class="line">   &#125;;</div></pre></td></tr></table></figure>
</code></pre><h6 id="3-日期格式化"><a href="#3-日期格式化" class="headerlink" title="3.日期格式化"></a>3.日期格式化</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">  Date.prototype.Format = function(fmt) &#123; // author: yxm</div><div class="line">var o = &#123;</div><div class="line">	&quot;M+&quot; : this.getMonth() + 1, // 月份</div><div class="line">	&quot;d+&quot; : this.getDate(), // 日</div><div class="line">	&quot;h+&quot; : this.getHours(), // 小时</div><div class="line">	&quot;m+&quot; : this.getMinutes(), // 分</div><div class="line">	&quot;s+&quot; : this.getSeconds(), // 秒</div><div class="line">	&quot;q+&quot; : Math.floor((this.getMonth() + 3) / 3), // 季度</div><div class="line">	&quot;S&quot; : this.getMilliseconds()</div><div class="line">// 毫秒</div><div class="line">&#125;;</div><div class="line">if (/(y+)/.test(fmt))</div><div class="line">	fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));</div><div class="line">for ( var k in o)</div><div class="line">	if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt))</div><div class="line">fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]): ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));</div><div class="line">return fmt;</div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
</code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>其中,我们比较注重的是:数据网格返回的数据colums,可以用拼接方法formatter:function(value,row,index){<br>return  showChatMsg(value,row,index);<br>} 进行返回一个拼接好的字符串  </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/17/easyui-数据网格显示聊天记录/" class="archive-article-date">
  	<time datetime="2017-03-17T09:53:33.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-17</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/easyui/">easyui</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-29-listview入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/Android-29-listview入门/">Android(29)-listview入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>listView其实就是android下的一个控件,如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/83.png" alt=""><br>listview入门分为以下几步:  </p>
<ol>
<li>1.定义listview在布局中  </li>
<li>2.定义listview数据适配器  </li>
<li>3.实现baseAdapter的getCount方法和getView方法  <h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4>注意:<br>1.一般控件显示数据直接是用setText()方法就可以了,但是对于listview我们是使用adapter(适配器实现)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/84.png" alt=""><br>2.ListAdapter是一个接口,我们通过定义一个类实现这个借口从而得到一个listadapter,但是我们要实现70多个方法,此时我们应该找到此接口的实现子类:BaseAdapter  <h6 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h6></li>
<li><p>1.布局中定义listview  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line">    &lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>2.定义listview数据适配器 </p>
</li>
<li>3.实现baseAdapter的getCount方法和getView方法 <pre><code>public class MainActivity extends Activity {
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    //1.找到控件
    ListView lv= (ListView)findViewById(R.id.lv);
    //2.设置控件的值,listview与一般控件设置不一样,这里用ListAdapter
    lv.setAdapter(new MyListAdapter());
}
//由于参数需要一个listadapter所以我们自己定义一个实现listAdapter的类
public class MyListAdapter extends BaseAdapter{
     // listview中显示的item个数
    @Override
    public int getCount() {
        return 5;
    }
   //返回position位置的对象--position从0开始
    @Override
    public Object getItem(int position) {
        return null;
    }
    //返回指定位置的id
    @Override
    public long getItemId(int position) {
        return 0;
    }
    //获取一个view,用来显示listview的数据,会作为listview的条目出现
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        TextView tv = new TextView(getApplicationContext());
        tv.setText(&quot;hello&quot;+position);//显示的内容
        return tv;
    }
 }
}
</code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4>测试效果图如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/85.png" alt=""></li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/15/Android-29-listview入门/" class="archive-article-date">
  	<time datetime="2017-03-15T15:59:29.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-15</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/CTI/" style="font-size: 11.33px;">CTI</a> <a href="/tags/Cookie/" style="font-size: 10.67px;">Cookie</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Http/" style="font-size: 10px;">Http</a> <a href="/tags/IE问题/" style="font-size: 10px;">IE问题</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 12.67px;">JVM</a> <a href="/tags/JavaSE/" style="font-size: 16.67px;">JavaSE</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Myeclipse/" style="font-size: 15.33px;">Myeclipse</a> <a href="/tags/Netty/" style="font-size: 14.67px;">Netty</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Oracle/" style="font-size: 18px;">Oracle</a> <a href="/tags/Servlet/" style="font-size: 12px;">Servlet</a> <a href="/tags/Sppring-Boot/" style="font-size: 10px;">Sppring Boot</a> <a href="/tags/Spring/" style="font-size: 10.67px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 19.33px;">Spring Boot</a> <a href="/tags/SpringMVC/" style="font-size: 11.33px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 16px;">Vue</a> <a href="/tags/Weblogic/" style="font-size: 12.67px;">Weblogic</a> <a href="/tags/Websocket/" style="font-size: 10.67px;">Websocket</a> <a href="/tags/Work-Problem/" style="font-size: 10px;">Work-Problem</a> <a href="/tags/easyui/" style="font-size: 10px;">easyui</a> <a href="/tags/hibernate/" style="font-size: 10.67px;">hibernate</a> <a href="/tags/im/" style="font-size: 14.67px;">im</a> <a href="/tags/jQuery/" style="font-size: 12.67px;">jQuery</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/java-String/" style="font-size: 10px;">java String</a> <a href="/tags/javaSE/" style="font-size: 10px;">javaSE</a> <a href="/tags/javaWeb/" style="font-size: 10px;">javaWeb</a> <a href="/tags/javascript/" style="font-size: 10.67px;">javascript</a> <a href="/tags/java并发编程/" style="font-size: 12px;">java并发编程</a> <a href="/tags/java集合/" style="font-size: 10.67px;">java集合</a> <a href="/tags/junit测试/" style="font-size: 10px;">junit测试</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/log4j/" style="font-size: 12px;">log4j</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/redis/" style="font-size: 13.33px;">redis</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/sockJs/" style="font-size: 10px;">sockJs</a> <a href="/tags/socket网络编程/" style="font-size: 10.67px;">socket网络编程</a> <a href="/tags/struts1/" style="font-size: 11.33px;">struts1</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/weblogic/" style="font-size: 11.33px;">weblogic</a> <a href="/tags/websocket/" style="font-size: 11.33px;">websocket</a> <a href="/tags/代理/" style="font-size: 12px;">代理</a> <a href="/tags/前端/" style="font-size: 10.67px;">前端</a> <a href="/tags/动手写一个MVC/" style="font-size: 12.67px;">动手写一个MVC</a> <a href="/tags/反射/" style="font-size: 17.33px;">反射</a> <a href="/tags/异常/" style="font-size: 10px;">异常</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/文件读取/" style="font-size: 10px;">文件读取</a> <a href="/tags/泛型/" style="font-size: 14px;">泛型</a> <a href="/tags/注解/" style="font-size: 11.33px;">注解</a> <a href="/tags/类加载器/" style="font-size: 14px;">类加载器</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/自己写一个apache服务器/" style="font-size: 18.67px;">自己写一个apache服务器</a> <a href="/tags/转载/" style="font-size: 12.67px;">转载</a> <a href="/tags/集合/" style="font-size: 12.67px;">集合</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>