<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Startshineye的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta property="og:type" content="website">
<meta property="og:title" content="Startshineye的博客">
<meta property="og:url" content="https://github.com/startshineye/page/9/index.html">
<meta property="og:site_name" content="Startshineye的博客">
<meta property="og:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Startshineye的博客">
<meta name="twitter:description" content="毕业于石大，相信技术可以改变人与人之间的生活，码农一枚">
  
    <link rel="alternative" href="/atom.xml" title="Startshineye的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			 <img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Startshineye</a></h1>
		</hgroup>

		
		<p class="header-subtitle">淡泊明志，宁静致远</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
				<li><a href="/archives">所有文章</a></li>
	        
				<li><a href="/tags/随笔">随笔</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">标签</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
		        
					<a class="rss" target="_blank" href="#" title="rss">rss</a>
		        
					<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
		        
					<a class="mail" target="_blank" href="#" title="mail">mail</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">Startshineye</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://raw.githubusercontent.com/startshineye/img/master/2017/king.jpg" class="js-avatar show">
				
			</div>
			<hgroup>
			  <h1 class="header-author">Startshineye</h1>
			</hgroup>
			
			<p class="header-subtitle">淡泊明志，宁静致远</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/startshineye" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="#" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-Android-32-打气筒介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-32-打气筒介绍/">Android(32)-打气筒介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>打气筒就是把布局文件转化成view从而显示在listview中  </p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><p>打气筒一般都用于显示复杂页面,在listview中布局<br>做一个比较相似于下面的布局,需要加上一个图片和右边的文字<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/83.png" alt=""><br>项目结构目录如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/89.png" alt=""></p>
<h5 id="1-画ui"><a href="#1-画ui" class="headerlink" title="1.画ui"></a>1.画ui</h5><p>上图可以知道,listview下面又有很多类似的布局,分析知我们可以把其中一个item看做一个布局,可以新建一个item.xml文件,从右图可知,一个item.xml包括一张图片和右边的文字  </p>
<ol>
<li>1.采用相对布局，左边图片,右边文字   </li>
<li>2.文字单行显示,并有…  </li>
<li>3.颜色深浅  </li>
<li>4.文字大小<h6 id="1-activity-main-xml"><a href="#1-activity-main-xml" class="headerlink" title="1.activity_main.xml"></a>1.activity_main.xml</h6> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line">&lt;ListView </div><div class="line">    android:id=&quot;@+id/lv&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">    &gt;&lt;/ListView&gt;    </div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="2-item-xml"><a href="#2-item-xml" class="headerlink" title="2.item.xml"></a>2.item.xml</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</div><div class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">android:layout_width=&quot;match_parent&quot;</div><div class="line">android:layout_height=&quot;match_parent&quot;</div><div class="line">android:orientation=&quot;vertical&quot; &gt;</div><div class="line">   </div><div class="line">&lt;ImageView </div><div class="line">    android:id=&quot;@+id/iv_icon&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">     android:src=&quot;@drawable/ic_launcher&quot;</div><div class="line">    /&gt;</div><div class="line"></div><div class="line">&lt;TextView </div><div class="line">    android:id=&quot;@+id/tv_title&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_toRightOf=&quot;@+id/iv_icon&quot;</div><div class="line">    android:singleLine=&quot;true&quot;</div><div class="line">    android:text=&quot;谢霆锋和王非旧情复燃&quot;</div><div class="line">    android:ellipsize=&quot;end&quot;</div><div class="line">    android:textColor=&quot;#000000&quot;</div><div class="line">    android:textSize=&quot;20sp&quot;</div><div class="line">    /&gt;</div><div class="line">  </div><div class="line">&lt;TextView </div><div class="line">    android:id=&quot;@+id/tv_message&quot;</div><div class="line">     android:layout_width=&quot;wrap_content&quot;</div><div class="line">     android:layout_height=&quot;wrap_content&quot;</div><div class="line">    android:layout_toRightOf=&quot;@+id/iv_icon&quot;</div><div class="line">    android:layout_below=&quot;@+id/tv_title&quot;</div><div class="line">    android:singleLine=&quot;true&quot;</div><div class="line">    android:text=&quot;媒体拍到两人亲昵&quot;</div><div class="line">    android:ellipsize=&quot;end&quot;</div><div class="line">    android:textColor=&quot;#999999&quot;</div><div class="line">    android:textSize=&quot;15sp&quot;</div><div class="line">    /&gt;</div><div class="line"></div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</code></pre><h5 id="2-写逻辑"><a href="#2-写逻辑" class="headerlink" title="2.写逻辑"></a>2.写逻辑</h5><ol>
<li>1.listview显示数据,上来就需要一个adapter  </li>
<li><p>2.由于我们定义的是一个布局,listview里面的item需要是一个view,所以我们需要把布局转换成view,此时用打气筒inflate,简洁如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/87.png" alt=""><br>resource参数是我们定义的布局,ViewGroup是anroid五大布局的父类</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">  public class MainActivity extends Activity &#123;</div><div class="line">  @Override</div><div class="line">  protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">      super.onCreate(savedInstanceState);</div><div class="line">      setContentView(R.layout.activity_main);</div><div class="line">      //1.找到listview</div><div class="line">     ListView lv = (ListView) findViewById(R.id.lv);</div><div class="line">      //2.listview的mvc模式显示数据adapter</div><div class="line">     lv.setAdapter(new MyAdapter());</div><div class="line">  &#125;</div><div class="line">  public class MyAdapter extends BaseAdapter&#123;</div><div class="line">@Override</div><div class="line">public int getCount() &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return 5;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public Object getItem(int position) &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return null;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public long getItemId(int position) &#123;</div><div class="line">	// TODO Auto-generated method stub</div><div class="line">	return 0;</div><div class="line">&#125;</div><div class="line">@Override</div><div class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</div><div class="line">	//固定写法加上打气筒</div><div class="line">	View view;</div><div class="line">	if(convertView==null)&#123;</div><div class="line">		view = View.inflate(getApplicationContext(),R.layout.item,null);</div><div class="line">	&#125;else&#123;</div><div class="line">		view = convertView;</div><div class="line">	&#125;</div><div class="line">	return view;</div><div class="line">&#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="3-结果"><a href="#3-结果" class="headerlink" title="3.结果"></a>3.结果</h5><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/88.png" alt=""></p>
<h4 id="4-获取inflate打气筒的三种方式"><a href="#4-获取inflate打气筒的三种方式" class="headerlink" title="4.获取inflate打气筒的三种方式"></a>4.获取inflate打气筒的三种方式</h4><ol>
<li>1.第一种方式<br>View.inflate</li>
<li>2.第二种方式<br>LayoutInflater.from(getApplicationContext()).inflate(R.layout.item, null);</li>
<li>3.第三种方式  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">LayoutInflater inflacter = (LayoutInflater)getSystemService(LAYOUT_INFLATER_SERVICE);</div><div class="line">		   view = inflacter.inflate(R.layout.item,null);</div></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-32-打气筒介绍/" class="archive-article-date">
  	<time datetime="2017-03-18T13:18:30.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-31-listview展示数据原理及奇怪现象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-31-listview展示数据原理及奇怪现象/">Android(31)-listview展示数据原理及奇怪现象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="listview展示数据源里"><a href="#listview展示数据源里" class="headerlink" title="listview展示数据源里"></a>listview展示数据源里</h4><p>listview展示数据源里就是mvc模式和java web中mvc类似  </p>
<p>java web中的mvc<br>m:model 数据<br>v:view 视图<br>c:controller 控制  </p>
<p>android中mvc<br>m:mode 数据(javabean)<br>v:view listview<br>c:adapter<br>adapter负责把数据显示到listview中  </p>
<h4 id="ListView的奇怪现象值优化"><a href="#ListView的奇怪现象值优化" class="headerlink" title="ListView的奇怪现象值优化"></a>ListView的奇怪现象值优化</h4><h6 id="1-listview-高使用match-parent"><a href="#1-listview-高使用match-parent" class="headerlink" title="1.listview 高使用match_parent"></a>1.listview 高使用match_parent</h6><p>假如我们屏幕宽为480，每一个listview为60，此时会生成480/60=8个这样系统就能够确定的算出展示的个数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:fastScrollEnabled=&quot;true&quot;</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div></pre></td></tr></table></figure></p>
<h6 id="2-listview-高使用wrap-content"><a href="#2-listview-高使用wrap-content" class="headerlink" title="2.listview 高使用wrap_content"></a>2.listview 高使用wrap_content</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:fastScrollEnabled=&quot;true&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div></pre></td></tr></table></figure>
<p>假如我们屏幕宽为480，每一个listview为60，此时会生成480/60=8个这样系统就能够确定的不能够算出展示的个数,就会进行多次的校验.</p>
<h6 id="3-结论"><a href="#3-结论" class="headerlink" title="3.结论"></a>3.结论</h6><p>以后我们用listview都是用match_parent</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-31-listview展示数据原理及奇怪现象/" class="archive-article-date">
  	<time datetime="2017-03-18T10:20:48.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-30-listview的优化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/18/Android-30-listview的优化/">Android(30)-listview的优化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>将public int getCount() {return 100000000;}并且在下面方法中加入System.out.print(“hello”+position);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">public View getView(int position, View convertView, ViewGroup parent) &#123;</div><div class="line">	TextView tv = new TextView(getApplicationContext());</div><div class="line">    System.out.print(&quot;hello&quot;+position);</div><div class="line">	 tv.setText(&quot;hello&quot;+position);//显示的内容</div><div class="line">	 return tv;</div><div class="line">	&#125;</div></pre></td></tr></table></figure></p>
<p>运行后会出现什么现象呢？  </p>
<ol>
<li>1.虽然是输入的1亿次，但是此时模拟器屏幕上至多只显示23个view，此时console(控制台)上显示的也是23次    </li>
<li>2.向上拖动屏幕上显示更多,此时console也是显示更多，拖动到400多次的时候会出现内存溢出    </li>
<li><p>3.内存溢出原来:在我们创建应用时候,android虚拟机会给应用分配16M空间,快速拖动屏幕会快速执行getView方法，android中采用垃圾回收机制，当申请的内存大于释放的速度时候就会出现问题(慢慢拖是可以的)<br>解决:使用getView方法的第二个参数,convertView介绍如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/86.png" alt=""><br>按着提示我们修改getView方法最终为:  </p>
<pre><code>//获取一个view,用来显示listview的数据,会作为listview的条目出现
   @Override
   public View getView(int position, View convertView, ViewGroup parent) {
       TextView tv;
       if(convertView==null){
           tv = new TextView(getApplicationContext());
       }else{
           tv = (TextView) convertView;
       }
       tv.setText(&quot;hello&quot;+position);//显示的内容
       return tv;
   }
</code></pre><p>结论:getView方法只要有一个条目在模拟器屏幕上显示出来就会执行一次,原理就像电梯一样,view是不变的,变得只是承载的数据内容  </p>
</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/18/Android-30-listview的优化/" class="archive-article-date">
  	<time datetime="2017-03-18T09:37:06.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-18</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-easyui-数据网格显示聊天记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/17/easyui-数据网格显示聊天记录/">easyui-数据网格显示聊天记录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在im聊天中需要在后台显示用户的聊天记录信息,并且 这些信息包括图片,表情,文件。后台配置是采用easyui开发,所以用数据网格显示实现。</p>
<h4 id="数据网格显示的js"><a href="#数据网格显示的js" class="headerlink" title="数据网格显示的js"></a>数据网格显示的js</h4><h6 id="1-查询聊天信息"><a href="#1-查询聊天信息" class="headerlink" title="1.查询聊天信息"></a>1.查询聊天信息</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">   &lt;%--查询聊天信息--%&gt;</div><div class="line">   function openMsgWindow() &#123;</div><div class="line">//调用打开窗口的函数</div><div class="line">addMessage();</div><div class="line"></div><div class="line">var node = $(&apos;#dg_black&apos;).datagrid(&apos;getChecked&apos;);</div><div class="line">if (&quot;&quot; == node) &#123;</div><div class="line">	alert(&quot;请选择要查询的选项！&quot;);</div><div class="line">	return false;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var validate = $(&quot;#chatRecordForm&quot;).form(&apos;enableValidation&apos;).form(&apos;validate&apos;);//日期必输项检查</div><div class="line">if (validate) &#123;</div><div class="line">	var params = &#123;</div><div class="line">		threadId : node[0].threadId</div><div class="line">	&#125;;</div><div class="line">loadMsgDatagrid(params);</div><div class="line">   &#125;&#125;</div><div class="line">   &lt;%--加载聊天数据网络--%&gt;</div><div class="line">   function loadMsgDatagrid(params) &#123;</div><div class="line">	$(&apos;#dg_msg&apos;).datagrid(&#123;</div><div class="line">		url : &apos;chatRecordAction.do?method=queryChatMessage&apos;,</div><div class="line">		queryParams : params,</div><div class="line">		method : &apos;POST&apos;,</div><div class="line">		loadMsg : &apos;正在加载，请稍后...&apos;,</div><div class="line">		striped : true,</div><div class="line">		fitColumns : true,</div><div class="line">		autoRowHeight : true,</div><div class="line">		singleSelect : true,</div><div class="line">		pagination : false,</div><div class="line">		rownumbers : false,</div><div class="line">		onLoadSuccess : function(jsonObj)&#123;</div><div class="line">			//showtooltip();</div><div class="line">		&#125;,</div><div class="line">		columns:[[ </div><div class="line">               &#123;field:&apos;message&apos;,width:190,</div><div class="line">                formatter:function(value,row,index)&#123; </div><div class="line">                return  showChatMsg(value,row,index);</div><div class="line">				&#125; </div><div class="line">			&#125;</div><div class="line">		]]</div><div class="line">	&#125;);</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</code></pre><h6 id="2-展示聊天消息"><a href="#2-展示聊天消息" class="headerlink" title="2.展示聊天消息"></a>2.展示聊天消息</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line">   //消息组合</div><div class="line">   function showChatMsg(value,row,index)&#123;</div><div class="line">   var basePath=&quot;http://localhost:8088/focuss&quot;;</div><div class="line">   if (row.messageType == 1) &#123;//发送文本消息</div><div class="line">     var  htmlStr=&quot;&quot;;</div><div class="line">   // 解析发送过来的含QQ表情的信息</div><div class="line">     var htmlmessage = replace_em(row.message);</div><div class="line">     if (row.messageFrom == 1) &#123;// 消息从客户端来临</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left;\&quot;&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">	    htmlStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;</div><div class="line">			+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		htmlStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		htmlStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ htmlmessage + &quot;&lt;/div&gt;&quot;;</div><div class="line">		return htmlStr;</div><div class="line">&#125;else if (row.messageFrom == 2) &#123;// 从坐席端来消息</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float: right;\&quot;&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席 &quot;</div><div class="line">			+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">	htmlStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">	htmlStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">			+htmlmessage + &quot;&lt;/div&gt;&lt;/div&gt;&quot;;</div><div class="line">        return htmlStr;</div><div class="line">  &#125;</div><div class="line">    &#125;else if(row.messageType==2)&#123;// 发送图片消息</div><div class="line">    var allPicture = &quot;gif,jpg,jpeg,png,bmp&quot;;// 图片种类</div><div class="line">    var fileStr = &quot;&quot;;</div><div class="line">    var filename = row.message.split(&quot;#&quot;)[0];</div><div class="line">    var title = row.message.split(&quot;#&quot;)[1];</div><div class="line">    var fileType = row.message.split(&quot;#&quot;)[2];</div><div class="line">    var flag = row.message.split(&quot;#&quot;)[3];</div><div class="line">    var index = allPicture.indexOf(fileType);</div><div class="line">    if(index&gt;=0)&#123;// 文件图片的显示</div><div class="line">	      if(row.messageFrom == 1)&#123;//u--&gt;a</div><div class="line">	        fileStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		    fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;</div><div class="line">				+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">	        fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		    fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">					+ &quot;&lt;img class=\&quot;msg-image\&quot; src=&apos;&quot;+basePath+&quot;/file/&quot;+new Date().Format(&quot;yyyy/MM/dd&quot;)+&quot;/&quot;+filename+&quot;&apos; title=\&quot;&quot;+title+&quot;\&quot; data-bindattr-3325=\&quot;3325\&quot;/&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			return fileStr;</div><div class="line">	    &#125;else if(row.messageFrom == 2)&#123;// a--&gt;u</div><div class="line">	        fileStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float:right\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席 &quot;</div><div class="line">					+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">			fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">					+ &quot;&lt;img class=\&quot;msg-image\&quot; src=&apos;&quot;+basePath+&quot;/file/&quot;+new Date().Format(&quot;yyyy/MM/dd&quot;)+&quot;/&quot;+filename+&quot;&apos; title=\&quot;&quot;+title+&quot;\&quot; data-bindattr-3325=\&quot;3325\&quot;/&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">			fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">			return fileStr;</div><div class="line">	    &#125;</div><div class="line">	 &#125;</div><div class="line">   &#125;else&#123;// 其他文件的显示</div><div class="line">      if(row.messageFrom == 1)&#123;// 一般文件信息  u--&gt;a</div><div class="line">        fileStr += &quot;&lt;div class=\&quot;chat-left\&quot; style=\&quot;float:left\&quot;&gt;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot; &quot;+ row.fromName + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ &quot;&lt;a class=\&quot;file\&quot; href=&apos;&quot;+basePath+&quot;/file/fileDownload.do?filename=&quot;+filename+&quot;&apos; target=\&quot;_blank\&quot;&gt;&quot;+title+&quot;&lt;/a&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		return fileStr;</div><div class="line">      &#125;else if(row.messageFrom == 2)&#123;// a--&gt;u</div><div class="line">        fileStr += &quot;&lt;div class=\&quot;chat-right\&quot; style=\&quot;float:right\&quot;&gt;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-item-info\&quot;&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;span class=\&quot;name\&quot; &gt;&quot; + &quot;坐席&quot;</div><div class="line">				+ row.fromId + &quot;&lt;/span&gt;&amp;nbsp;&quot;;</div><div class="line">		fileStr += &quot;&lt;time&gt;&quot; + row.messageTime + &quot;&lt;/time&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;div class=\&quot;chat-info\&quot; id = \&quot;content\&quot;&gt;&quot;</div><div class="line">				+ &quot;&lt;a class=\&quot;file\&quot; href=&apos;&quot;+basePath+&quot;/file/fileDownload.do?filename=&quot;+filename+&quot;&apos; target=\&quot;_blank\&quot;&gt;&quot;+title+&quot;&lt;/a&gt;&quot; + &quot;&lt;/div&gt;&quot;;</div><div class="line">		fileStr += &quot;&lt;/div&gt;&quot;;</div><div class="line">		return fileStr;</div><div class="line">      &#125; </div><div class="line"> &#125;  </div><div class="line">   &#125;;</div></pre></td></tr></table></figure>
</code></pre><h6 id="3-日期格式化"><a href="#3-日期格式化" class="headerlink" title="3.日期格式化"></a>3.日期格式化</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">  Date.prototype.Format = function(fmt) &#123; // author: yxm</div><div class="line">var o = &#123;</div><div class="line">	&quot;M+&quot; : this.getMonth() + 1, // 月份</div><div class="line">	&quot;d+&quot; : this.getDate(), // 日</div><div class="line">	&quot;h+&quot; : this.getHours(), // 小时</div><div class="line">	&quot;m+&quot; : this.getMinutes(), // 分</div><div class="line">	&quot;s+&quot; : this.getSeconds(), // 秒</div><div class="line">	&quot;q+&quot; : Math.floor((this.getMonth() + 3) / 3), // 季度</div><div class="line">	&quot;S&quot; : this.getMilliseconds()</div><div class="line">// 毫秒</div><div class="line">&#125;;</div><div class="line">if (/(y+)/.test(fmt))</div><div class="line">	fmt = fmt.replace(RegExp.$1, (this.getFullYear() + &quot;&quot;).substr(4 - RegExp.$1.length));</div><div class="line">for ( var k in o)</div><div class="line">	if (new RegExp(&quot;(&quot; + k + &quot;)&quot;).test(fmt))</div><div class="line">fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]): ((&quot;00&quot; + o[k]).substr((&quot;&quot; + o[k]).length)));</div><div class="line">return fmt;</div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
</code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>其中,我们比较注重的是:数据网格返回的数据colums,可以用拼接方法formatter:function(value,row,index){<br>return  showChatMsg(value,row,index);<br>} 进行返回一个拼接好的字符串  </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/17/easyui-数据网格显示聊天记录/" class="archive-article-date">
  	<time datetime="2017-03-17T09:53:33.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-17</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/easyui/">easyui</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-29-listview入门" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/Android-29-listview入门/">Android(29)-listview入门</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>listView其实就是android下的一个控件,如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/83.png" alt=""><br>listview入门分为以下几步:  </p>
<ol>
<li>1.定义listview在布局中  </li>
<li>2.定义listview数据适配器  </li>
<li>3.实现baseAdapter的getCount方法和getView方法  <h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4>注意:<br>1.一般控件显示数据直接是用setText()方法就可以了,但是对于listview我们是使用adapter(适配器实现)<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/84.png" alt=""><br>2.ListAdapter是一个接口,我们通过定义一个类实现这个借口从而得到一个listadapter,但是我们要实现70多个方法,此时我们应该找到此接口的实现子类:BaseAdapter  <h6 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h6></li>
<li><p>1.布局中定义listview  </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line">    &lt;ListView </div><div class="line">        android:id=&quot;@+id/lv&quot;</div><div class="line">        android:layout_height=&quot;match_parent&quot;</div><div class="line">        android:layout_width=&quot;match_parent&quot;</div><div class="line">        &gt;   </div><div class="line">    &lt;/ListView&gt;</div><div class="line">&lt;/RelativeLayout&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>2.定义listview数据适配器 </p>
</li>
<li>3.实现baseAdapter的getCount方法和getView方法 <pre><code>public class MainActivity extends Activity {
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    //1.找到控件
    ListView lv= (ListView)findViewById(R.id.lv);
    //2.设置控件的值,listview与一般控件设置不一样,这里用ListAdapter
    lv.setAdapter(new MyListAdapter());
}
//由于参数需要一个listadapter所以我们自己定义一个实现listAdapter的类
public class MyListAdapter extends BaseAdapter{
     // listview中显示的item个数
    @Override
    public int getCount() {
        return 5;
    }
   //返回position位置的对象--position从0开始
    @Override
    public Object getItem(int position) {
        return null;
    }
    //返回指定位置的id
    @Override
    public long getItemId(int position) {
        return 0;
    }
    //获取一个view,用来显示listview的数据,会作为listview的条目出现
    @Override
    public View getView(int position, View convertView, ViewGroup parent) {
        TextView tv = new TextView(getApplicationContext());
        tv.setText(&quot;hello&quot;+position);//显示的内容
        return tv;
    }
 }
}
</code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4>测试效果图如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/85.png" alt=""></li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/15/Android-29-listview入门/" class="archive-article-date">
  	<time datetime="2017-03-15T15:59:29.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-15</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-28-使用google封装好的API进行增删查改" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/Android-28-使用google封装好的API进行增删查改/">Android(28)-使用google封装好的API进行增删查改</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h6 id="1-画ui"><a href="#1-画ui" class="headerlink" title="1.画ui"></a>1.画ui</h6><p>使用线性布局,画四个button按钮,并绑定四个方法<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    android:orientation=&quot;vertical&quot;</div><div class="line">    tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line"></div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;add&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;add&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;delete&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;delete&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;select&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;select&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;update&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;update&quot;</div><div class="line">        /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<h6 id="2-写逻辑"><a href="#2-写逻辑" class="headerlink" title="2.写逻辑"></a>2.写逻辑</h6><p>1.创建类继承SQLiteOpenHelper(在onCreate)<br>2.实例化此类的对象<br>3.书写增删查改方法<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div></pre></td><td class="code"><pre><div class="line">   public class MainActivity extends Activity &#123;</div><div class="line"></div><div class="line">   private MySQLite mySQLite;</div><div class="line"></div><div class="line">@Override</div><div class="line">   protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">       super.onCreate(savedInstanceState);</div><div class="line">       setContentView(R.layout.activity_main);</div><div class="line">       </div><div class="line">       mySQLite = new MySQLite(getApplicationContext());</div><div class="line">   &#125;</div><div class="line"></div><div class="line">//增</div><div class="line">public void add(View v)&#123;</div><div class="line">	//1.获取数据库对象</div><div class="line">	SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">	//2.执行一条sql语句</div><div class="line">	/***</div><div class="line">	 * table 表名</div><div class="line">	 * ContentValues 内部封装了一个map  key:对应列名字   value:对应的值</div><div class="line">	 */</div><div class="line">	ContentValues values = new ContentValues();</div><div class="line">	values.put(&quot;name&quot;,&quot;王五&quot;);</div><div class="line">	values.put(&quot;phone&quot;,&quot;110&quot;);</div><div class="line">	//返回代表插入新行的id</div><div class="line">	long insert = db.insert(&quot;info&quot;, null, values);</div><div class="line">	</div><div class="line">    //3.数据库用完关闭</div><div class="line">	db.close();</div><div class="line">	//4.用户友好提示</div><div class="line">	if(insert&gt;0)&#123;</div><div class="line">		Toast.makeText(getApplicationContext(),&quot;添加成功&quot;,1).show();</div><div class="line">	&#125;else&#123;</div><div class="line">		Toast.makeText(getApplicationContext(), &quot;添加失败&quot;, 1).show();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//删</div><div class="line">   public void delete(View v)&#123;</div><div class="line">   	SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">   	//db.execSQL(&quot;delete from info where name = ?&quot;,new Object[]&#123;&quot;zs&quot;&#125;);</div><div class="line">   	//返回值代表删除了多少行</div><div class="line">   	int delete = db.delete(&quot;info&quot;, &quot;name=?&quot;,new String[]&#123;&quot;王五&quot;&#125;);</div><div class="line">   	db.close();</div><div class="line">   	Toast.makeText(getApplicationContext(), &quot;删除了&quot;+delete+&quot;行&quot;, 1).show();</div><div class="line">&#125;</div><div class="line">   </div><div class="line">   //查</div><div class="line">   public void select(View v)&#123;</div><div class="line">   	//获取可读数据库连接</div><div class="line">   	SQLiteDatabase db = mySQLite.getReadableDatabase();</div><div class="line">   	//执行有返回值的方法</div><div class="line">   	Cursor result = db.query(&quot;info&quot;, new String[]&#123;&quot;phone&quot;&#125;, &quot;name=?&quot;,new String[]&#123;&quot;王五&quot;&#125;, null, null, null);</div><div class="line">   	//输出</div><div class="line">   	if(result!=null &amp;&amp; result.getCount()&gt;0)&#123;</div><div class="line">   		while (result.moveToNext()) &#123;</div><div class="line">			 String phone = result.getString(0);</div><div class="line">			 System.out.println(&quot;phone&quot;+phone);</div><div class="line">		&#125;</div><div class="line">   	&#125;</div><div class="line">   	</div><div class="line">   &#125;</div><div class="line">   </div><div class="line">   //改</div><div class="line">  public void update(View v)&#123;</div><div class="line">   SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">  // db.execSQL(&quot;update info set phone = ? where name = ?&quot;,new Object[]&#123;&quot;110&quot;,&quot;zs&quot;&#125;);</div><div class="line">   ContentValues values = new ContentValues();</div><div class="line">   values.put(&quot;phone&quot;, &quot;120&quot;);</div><div class="line">   //update 代表更新了多少行</div><div class="line">   int update = db.update(&quot;info&quot;, values,&quot;name=?&quot;,new String[]&#123;&quot;王五&quot;&#125;);</div><div class="line">   db.close();</div><div class="line">   Toast.makeText(getApplicationContext(),&quot;更新了&quot;+update+&quot;行&quot;, 1).show();</div><div class="line">    &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<h6 id="3-测试"><a href="#3-测试" class="headerlink" title="3.测试"></a>3.测试</h6><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/82.png" alt=""></p>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>Google封装好的API其实底层就是一个sql语句的拼接<br>使用google提供的API存在以下优点和缺点  </p>
<h6 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h6><p>1.写法简单,不需要写复杂的sql语句，不容易写错<br>2.有返回值方便开发者进行开发(容易人性化地提示)  </p>
<h6 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h6><p>1.如果有多张表,使用google封装的api不容易进行查询(传统的sql语句直接写多张表就行了)</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/15/Android-28-使用google封装好的API进行增删查改/" class="archive-article-date">
  	<time datetime="2017-03-15T13:29:09.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-15</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-27-使用命令行方式打开数据库" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/15/Android-27-使用命令行方式打开数据库/">Android(27)-使用命令行方式打开数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在mysql或者oracle下我们是可以使用命令行工具来操作数据库,其实在android下也可以使用命令行来打开数据库。  </p>
<h4 id="使用命令行工具sqlite3可以打开数据库"><a href="#使用命令行工具sqlite3可以打开数据库" class="headerlink" title="使用命令行工具sqlite3可以打开数据库"></a>使用命令行工具sqlite3可以打开数据库</h4><p>来到手机终端:cmd -&gt;adb shell<br>data/data下:cd data/data……….直到databases再使用sqlite3 数据库名称<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/81.png" alt=""></p>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>我们在dos黑窗口下可能会乱码<br>原因：android数据库存储一般是utf-8,然而很多人的dos的编码方式是GBK  </p>
<ol>
<li>改变dos编码方式 chcp(change code page)<br>gbk:chcp 936  utf-8 chcp 65001</li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/15/Android-27-使用命令行方式打开数据库/" class="archive-article-date">
  	<time datetime="2017-03-14T16:06:20.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-15</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-26-sql语句增删查改实现" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/14/Android-26-sql语句增删查改实现/">Android(26)-sql语句增删查改实现</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><p>1：ui线性布局4个按钮点击实现增删查改</p>
<h4 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h4><h6 id="1-画ui"><a href="#1-画ui" class="headerlink" title="1.画ui"></a>1.画ui</h6><p>使用线性布局,画四个button按钮,并绑定四个方法<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</div><div class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</div><div class="line">    android:layout_width=&quot;match_parent&quot;</div><div class="line">    android:layout_height=&quot;match_parent&quot;</div><div class="line">    android:orientation=&quot;vertical&quot;</div><div class="line">    tools:context=&quot;.MainActivity&quot; &gt;</div><div class="line"></div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;add&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;add&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;delete&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;delete&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;select&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;select&quot;</div><div class="line">        /&gt;</div><div class="line">    </div><div class="line">    &lt;Button </div><div class="line">        android:onClick=&quot;update&quot;</div><div class="line">        android:layout_width=&quot;wrap_content&quot;</div><div class="line">        android:layout_height=&quot;wrap_content&quot;</div><div class="line">        android:text=&quot;update&quot;</div><div class="line">        /&gt;</div><div class="line">&lt;/LinearLayout&gt;</div></pre></td></tr></table></figure></p>
<h6 id="2-写逻辑"><a href="#2-写逻辑" class="headerlink" title="2.写逻辑"></a>2.写逻辑</h6><p>1.创建类继承SQLiteOpenHelper(在onCreate)<br>2.实例化此类的对象<br>3.书写增删查改方法<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">    public class MainActivity extends Activity &#123;</div><div class="line"></div><div class="line">    private MySQLite mySQLite;</div><div class="line"></div><div class="line">	@Override</div><div class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">        super.onCreate(savedInstanceState);</div><div class="line">        setContentView(R.layout.activity_main);</div><div class="line">        </div><div class="line">        mySQLite = new MySQLite(getApplicationContext());</div><div class="line">    &#125;</div><div class="line">	</div><div class="line">	//增</div><div class="line">	public void add(View v)&#123;</div><div class="line">		SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">		db.execSQL(&quot;insert into info(name,phone) values(?,?)&quot;,new Object[]&#123;&quot;zs&quot;,&quot;123&quot;&#125;);</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	//删</div><div class="line">    public void delete(View v)&#123;</div><div class="line">    	SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">    	db.execSQL(&quot;delete from info where name = ?&quot;,new Object[]&#123;&quot;zs&quot;&#125;);</div><div class="line">	&#125;</div><div class="line">    </div><div class="line">    //查</div><div class="line">    public void select(View v)&#123;</div><div class="line">    	//获取可读数据库连接</div><div class="line">    	SQLiteDatabase db = mySQLite.getReadableDatabase();</div><div class="line">    	//执行有返回值的方法</div><div class="line">    	Cursor result = db.rawQuery(&quot;selete * from info&quot;,null);</div><div class="line">    	//输出</div><div class="line">    	if(result!=null &amp;&amp; result.getCount()&gt;0)&#123;</div><div class="line">    		while (result.moveToNext()) &#123;</div><div class="line">				 String name = result.getString(1);</div><div class="line">				 String phone = result.getString(2);</div><div class="line">				System.out.println(&quot;name&quot;+name+&quot;  &quot;+&quot;phone&quot;+phone);</div><div class="line">			&#125;</div><div class="line">    	&#125;</div><div class="line">    	</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    //改</div><div class="line">   public void update(View v)&#123;</div><div class="line">	   SQLiteDatabase db = mySQLite.getWritableDatabase();</div><div class="line">	   db.execSQL(&quot;update info set phone = ? where name = ?&quot;,new Object[]&#123;&quot;110&quot;,&quot;zs&quot;&#125;);</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h6 id="3-测试"><a href="#3-测试" class="headerlink" title="3.测试"></a>3.测试</h6><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/80.png" alt=""></p>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>缺陷:  </p>
<ol>
<li>1.sql语句容易写错(比如：将半角写成全角)  </li>
<li>2.执行sql语句没有返回值,不容易进行判断<br>优点:<br>容易进行多表查询     </li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/14/Android-26-sql语句增删查改实现/" class="archive-article-date">
  	<time datetime="2017-03-14T13:16:34.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-14</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-25-数据库OnCreate方法介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/12/Android-25-数据库OnCreate方法介绍/">Android(25)-数据库OnCreate方法介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h6 id="1-onCreate方法"><a href="#1-onCreate方法" class="headerlink" title="1.onCreate方法"></a>1.onCreate方法</h6><ol>
<li>1.使用SQLite Expert Professional这个工具可以打开我们创建的数据库  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//当数据库第一次被创建时候调用    </div><div class="line">//这个方法特别适合做表结构初始化,创建表就是写sql语句  </div><div class="line">@Override  </div><div class="line">public void onCreate(SQLiteDatabase db) &#123;   </div><div class="line">//查看SQLiteDatabase的API文档可知，用execSQL执行命令    </div><div class="line">//google工程师规定一般 id用_id来表示  </div><div class="line">db.execSQL(&quot;create table  info(_id integer primary key       autoincrement,namme varchar(20))&quot;);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h6 id="2-onUpgrade方法"><a href="#2-onUpgrade方法" class="headerlink" title="2.onUpgrade方法"></a>2.onUpgrade方法</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">   /***</div><div class="line">    * 当数据库版本升级时候调用</div><div class="line">    * </div><div class="line">    * 这个方法适合做表结构的更新</div><div class="line">    */</div><div class="line">@Override</div><div class="line">public void onUpgrade(SQLiteDatabase db, int arg1, int arg2) &#123;</div><div class="line"> db.execSQL(&quot;alter table info add phone varchar(20)&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><p>注：1.修改表结构时候多用onUpgrade<br>   2.当数据库版本降级的时候此方法将会报错</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/12/Android-25-数据库OnCreate方法介绍/" class="archive-article-date">
  	<time datetime="2017-03-12T15:51:37.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-12</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Android-24-Android下数据库" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/12/Android-24-Android下数据库/">Android(24)-Android下数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="Android数据库介绍"><a href="#Android数据库介绍" class="headerlink" title="Android数据库介绍"></a>Android数据库介绍</h4><ol>
<li>1.Android的数据库是用sqlite</li>
<li>2.sqlite是一个轻量级的数据库,是嵌入到手机里面的</li>
<li>3.什么情况下用数据库?有大量相似结构的数据需要存储的时候  </li>
<li>4.在java中,当我们书写File file = new File(“info.txt”);并不会生成info.txt文件,只有当我们使用流的时候才会生成,FileOutPutStream fos = new FileOutPutStream(file);</li>
<li>5.在Android中创建一个数据库,用SQLiteOpenHelper </li>
<li>6.使用SQLite Expert Professional这个工具可打开我们创建的数据库<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/77.png" alt="">  <h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h4>创建数据库步骤:<br>1.创建一个类继承SQLiteOpenHelper<br>2.实例化此类的对象,并且创建一个数据库</li>
</ol>
<h6 id="1-创建一个类继承SQLiteOpenHelper"><a href="#1-创建一个类继承SQLiteOpenHelper" class="headerlink" title="1.创建一个类继承SQLiteOpenHelper"></a>1.创建一个类继承SQLiteOpenHelper</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">   public class MyOpenHelper extends SQLiteOpenHelper &#123;</div><div class="line">   </div><div class="line">/***</div><div class="line"> * </div><div class="line"> * @param context 上下文</div><div class="line"> * @param name 数据库名字</div><div class="line"> * @param factory 目的为了创建cursor对象</div><div class="line"> * @param version 数据库版本 从1开始</div><div class="line"> */</div><div class="line">public MyOpenHelper(Context context) &#123;</div><div class="line">	super(context,&quot;yxm.db&quot;,null,1);</div><div class="line"> &#125;</div><div class="line"></div><div class="line">@Override</div><div class="line">public void onCreate(SQLiteDatabase arg0) &#123;</div><div class="line"> &#125;</div><div class="line"></div><div class="line">@Override</div><div class="line">public void onUpgrade(SQLiteDatabase arg0, int arg1, int arg2) &#123;</div><div class="line"> &#125;</div><div class="line"></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
</code></pre><h6 id="2-实例化此类的对象-并且创建一个数据库"><a href="#2-实例化此类的对象-并且创建一个数据库" class="headerlink" title="2.实例化此类的对象,并且创建一个数据库"></a>2.实例化此类的对象,并且创建一个数据库</h6><pre><code><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">public class MainActivity extends Activity &#123;</div><div class="line">@Override</div><div class="line">protected void onCreate(Bundle savedInstanceState) &#123;</div><div class="line">    super.onCreate(savedInstanceState);</div><div class="line">    setContentView(R.layout.activity_main);</div><div class="line">    </div><div class="line">    //创建一个数据库</div><div class="line">    MyOpenHelper helper = new MyOpenHelper(getApplicationContext());</div><div class="line">    //打开或者创建数据库 如果第一次就是创建 反其实打开</div><div class="line">    SQLiteDatabase writableDatabase = helper.getWritableDatabase();</div><div class="line">    //打开或者创建数据库 如果第一次就创建 如果磁盘满了 返回只读</div><div class="line">    SQLiteDatabase readableDatabase = helper.getReadableDatabase();</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</code></pre><p>注意:1.MyOpenHelper helper = new MyOpenHelper(getApplicationContext());这一句不代表就已经创建了数据库，就比如java中,当我们书写File file = new File(“info.txt”);并不会生成info.txt文件,只有当我们使用流的时候才会生成,FileOutPutStream fos = new FileOutPutStream(file);需要加上  SQLiteDatabase readableDatabase = helper.getReadableDatabase();<br>2.cusor类似于java中的ResultSet，就是一个游标，如下:<br><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/78.png" alt=""> </p>
<h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><p><img src="https://raw.githubusercontent.com/startshineye/img/master/2017/3/79.png" alt="">  </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2017/03/12/Android-24-Android下数据库/" class="archive-article-date">
  	<time datetime="2017-03-12T14:29:26.000Z" itemprop="datePublished"><i class="icon-clock"></i>2017-03-12</time>
</a>
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags"></i>
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

      

      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/8/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/10/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Startshineye
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/CTI/" style="font-size: 11.33px;">CTI</a> <a href="/tags/Cookie/" style="font-size: 10.67px;">Cookie</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Http/" style="font-size: 10px;">Http</a> <a href="/tags/IE问题/" style="font-size: 10px;">IE问题</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/JSP/" style="font-size: 10px;">JSP</a> <a href="/tags/JVM/" style="font-size: 12.67px;">JVM</a> <a href="/tags/JavaSE/" style="font-size: 16.67px;">JavaSE</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/Myeclipse/" style="font-size: 15.33px;">Myeclipse</a> <a href="/tags/Netty/" style="font-size: 14.67px;">Netty</a> <a href="/tags/Node-js/" style="font-size: 10px;">Node.js</a> <a href="/tags/Oracle/" style="font-size: 18px;">Oracle</a> <a href="/tags/Redis/" style="font-size: 11.33px;">Redis</a> <a href="/tags/Servlet/" style="font-size: 12px;">Servlet</a> <a href="/tags/Sppring-Boot/" style="font-size: 10px;">Sppring Boot</a> <a href="/tags/Spring/" style="font-size: 10.67px;">Spring</a> <a href="/tags/Spring-Boot/" style="font-size: 19.33px;">Spring Boot</a> <a href="/tags/SpringMVC/" style="font-size: 11.33px;">SpringMVC</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/Vue/" style="font-size: 16px;">Vue</a> <a href="/tags/Weblogic/" style="font-size: 12.67px;">Weblogic</a> <a href="/tags/Websocket/" style="font-size: 10.67px;">Websocket</a> <a href="/tags/Work-Problem/" style="font-size: 10px;">Work-Problem</a> <a href="/tags/easyui/" style="font-size: 10px;">easyui</a> <a href="/tags/hibernate/" style="font-size: 10.67px;">hibernate</a> <a href="/tags/im/" style="font-size: 14.67px;">im</a> <a href="/tags/jQuery/" style="font-size: 12.67px;">jQuery</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/java-String/" style="font-size: 10px;">java String</a> <a href="/tags/javaSE/" style="font-size: 10px;">javaSE</a> <a href="/tags/javaWeb/" style="font-size: 10px;">javaWeb</a> <a href="/tags/javascript/" style="font-size: 10.67px;">javascript</a> <a href="/tags/java并发编程/" style="font-size: 12px;">java并发编程</a> <a href="/tags/java集合/" style="font-size: 10.67px;">java集合</a> <a href="/tags/junit测试/" style="font-size: 10px;">junit测试</a> <a href="/tags/life/" style="font-size: 10px;">life</a> <a href="/tags/log4j/" style="font-size: 12px;">log4j</a> <a href="/tags/maven/" style="font-size: 10px;">maven</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/redis/" style="font-size: 13.33px;">redis</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/sockJs/" style="font-size: 10px;">sockJs</a> <a href="/tags/socket网络编程/" style="font-size: 10.67px;">socket网络编程</a> <a href="/tags/struts1/" style="font-size: 11.33px;">struts1</a> <a href="/tags/vue/" style="font-size: 10px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/weblogic/" style="font-size: 11.33px;">weblogic</a> <a href="/tags/websocket/" style="font-size: 11.33px;">websocket</a> <a href="/tags/代理/" style="font-size: 12px;">代理</a> <a href="/tags/前端/" style="font-size: 10.67px;">前端</a> <a href="/tags/动手写一个MVC/" style="font-size: 12.67px;">动手写一个MVC</a> <a href="/tags/反射/" style="font-size: 17.33px;">反射</a> <a href="/tags/异常/" style="font-size: 10px;">异常</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/文件读取/" style="font-size: 10px;">文件读取</a> <a href="/tags/泛型/" style="font-size: 14px;">泛型</a> <a href="/tags/注解/" style="font-size: 11.33px;">注解</a> <a href="/tags/类加载器/" style="font-size: 14px;">类加载器</a> <a href="/tags/线程/" style="font-size: 10px;">线程</a> <a href="/tags/自己写一个apache服务器/" style="font-size: 18.67px;">自己写一个apache服务器</a> <a href="/tags/转载/" style="font-size: 12.67px;">转载</a> <a href="/tags/集合/" style="font-size: 12.67px;">集合</a>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.baidu.com/">baidu</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jd.com/">jd</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">毕业于&lt;br&gt;相信技术可以改变人与人之间的生活&lt;br&gt;码农一枚</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>